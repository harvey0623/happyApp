(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/happyApp/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0143":function(e,t,n){"use strict";var r=n("af8e"),a=n.n(r);a.a},"019f":function(e){e.exports=JSON.parse('{"seo":{"home":{"title":"首頁"},"entrance":{"title":"入口"},"login":{"title":"登入"},"register":{"title":"註冊"},"forgotPw":{"title":"忘記密碼"},"fixPassword":{"title":"修改密碼"},"security":{"title":"保全人員"},"workInfo":{"title":"工作資料"},"notify":{"title":"通知"},"bulletinInfo":{"title":"公告詳情"},"memberProfile":{"title":"會員資料"},"communityInfo":{"title":"社區資料"},"organization":{"title":"社區組織"},"communityIntro":{"title":"社區簡介"},"workRecord":{"title":"工作紀錄"},"workSchedule":{"title":"我的班表"},"workMission":{"title":"工作任務"},"patrolMission":{"title":"巡檢任務"},"patrolReport":{"title":"巡檢回報"}},"validate":{"required":"必填","email":"電子信箱格式有誤","mobileTw":"台灣手機格式有誤","mobileCn":"大陸手機格式有誤","password":"密碼格式有誤","pwNotEqual":"密碼不一致","taiwanId":"身分證格式有誤"}}')},"01ab":function(e,t,n){"use strict";var r=n("8cb4"),a=n.n(r);a.a},"0327":function(e,t,n){"use strict";var r=function(){return{namespaced:!0,state:{currentLang:localStorage.getItem("lang")||"tw",langList:["tw","en"]},mutations:{setLang:function(e,t){localStorage.setItem("lang",t),location.reload()}},actions:{changeLang:function(e,t){var n=e.state,r=e.commit;t!==n.lang&&r("setLang",t)}}}};t["a"]=r},"05f0":function(e,t,n){},"0d41":function(e,t,n){},1:function(e,t){},"11c5":function(e,t,n){"use strict";var r=n("32a1"),a=n.n(r);a.a},"11fa":function(e,t,n){"use strict";var r=n("814c"),a=n.n(r);a.a},"128e":function(e,t,n){"use strict";var r=n("921d"),a=n.n(r);a.a},"177f":function(e,t,n){e.exports=n.p+"img/punch.2cedc66d.svg"},"1ca3":function(e,t,n){},"1d23":function(e,t,n){},"1f0f":function(e,t,n){"use strict";var r=n("1f87"),a=n.n(r);a.a},"1f87":function(e,t,n){},2:function(e,t){},"209d":function(e,t,n){e.exports=n.p+"img/commonBtn5.af6a1bad.svg"},"21d3":function(e,t,n){"use strict";var r=n("2cb7"),a=n.n(r);a.a},"261d":function(e,t,n){},"28d8":function(e,t,n){},"2cb7":function(e,t,n){},"2df4":function(e,t,n){},"2e0d":function(e,t,n){},3:function(e,t){},3151:function(e,t,n){},"32a1":function(e,t,n){},"32c3":function(e,t,n){"use strict";var r=n("1d23"),a=n.n(r);a.a},"338d":function(e,t,n){},3536:function(e,t,n){"use strict";var r=n("ce8c"),a=n.n(r);a.a},"358d":function(e,t,n){"use strict";var r=n("84bc"),a=n.n(r);a.a},"35a1b":function(e,t,n){"use strict";var r=n("4b25"),a=n.n(r);a.a},"35d2":function(e,t,n){},"3a6f":function(e,t,n){"use strict";var r=n("261d"),a=n.n(r);a.a},"3b76":function(e,t,n){},"3dde":function(e,t,n){"use strict";var r=n("9fa0"),a=n.n(r);a.a},"3edb":function(e,t,n){},"3fb9":function(e,t,n){"use strict";var r=n("1ca3"),a=n.n(r);a.a},4:function(e,t){},"42e0":function(e,t,n){"use strict";var r=n("70c9"),a=n.n(r);a.a},4360:function(e,t,n){"use strict";(function(e){n("c740"),n("a434");var r=n("5530"),a=n("2b0e"),i=n("2f62"),s=n("0327"),o=n("c7d4");a["default"].use(i["a"]),i["a"].Store.prototype.hasModule=function(e){return void 0!==this._modules.root._children[e]},t["a"]=new i["a"].Store({strict:"development"===e.NODE_ENV,state:{isMenuOpen:!1,toastrList:[]},mutations:{setMenuOpen:function(e,t){e.isMenuOpen=t},addToastr:function(e,t){e.toastrList.push(Object(r["a"])({timestamp:Date.now()},t))},removeToastr:function(e,t){var n=e.toastrList.findIndex((function(e){return e.timestamp===t}));-1!==n&&e.toastrList.splice(n,1)}},getters:{toastrLength:function(e){return e.toastrList.length}},actions:{},modules:{i18n:Object(s["a"])(),auth:Object(o["a"])()}})}).call(this,n("4362"))},4767:function(e,t,n){"use strict";var r=n("0d41"),a=n.n(r);a.a},"4a74":function(e,t,n){"use strict";var r=n("7353"),a=n.n(r);a.a},"4b25":function(e,t,n){},"4e36":function(e,t,n){"use strict";n("d3b7"),n("25f0");var r=n("3452"),a=n.n(r),i=a.a.enc.Utf8,s=a.a.enc.Base64,o=a.a.MD5,c=a.a.AES,u={encodeMd5:function(e){return o(e).toString()},encodeUtf8:function(e){return i.parse(e)},decodeUft8:function(e){return i.stringify(e)},encodeBase64:function(e){var t=this.encodeUtf8(e);return s.stringify(t)},decodeBase64:function(e){var t=s.parse(e);return this.decodeUft8(t)},encodeAes:function(e){return c.encrypt(e,"PRODUCTION999").toString()},decodeAes:function(e){var t=c.decrypt(e,"PRODUCTION999");return t.toString(i)},encodeAesJson:function(e){return this.encodeAes(JSON.stringify(e))},decodeAesJson:function(e){return JSON.parse(this.decodeAes(e))}};t["a"]=u},"4ffd":function(e,t,n){e.exports=n.p+"img/logo.cd381c66.png"},"502f":function(e,t,n){"use strict";var r=n("81ab"),a=n.n(r);a.a},"52e6":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("841c"),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1276"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__),checkTwID=function checkTwID(id){var city=new Array(1,10,19,28,37,46,55,64,39,73,82,2,11,20,48,29,38,47,56,65,74,83,21,3,12,30);if(id=id.toUpperCase(),-1==id.search(/^[A-Z](1|2)\d{8}$/i))return!1;id=id.split("");for(var total=city[id[0].charCodeAt(0)-65],i=1;i<=8;i++)total+=eval(id[i])*(9-i);return total+=eval(id[9]),total%10==0};__webpack_exports__["a"]=checkTwID},"536e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n(e.layout,{tag:"component"},[n("keep-alive",{attrs:{include:["home"]}},[n("router-view")],1)],1),n("Toastr")],1)},i=[],s=(n("e041"),{metaInfo:function(){return{title:"",titleTemplate:"%s",meta:[{property:"og:image",content:""},{property:"og:description",content:"project"}]}},computed:{layout:function(){return this.$route.meta.layout||"defaultLayout"}}}),o=s,c=n("2877"),u=Object(c["a"])(o,a,i,!1,null,null,null),l=u.exports,d=n("a18c"),m=n("4360"),f=(n("caad"),n("2532"),n("ade3")),p=n("a925");r["default"].use(p["a"]);var v=m["a"].state.i18n,h=v.currentLang,g=v.langList,b="tw",w=g.includes(h)?h:b,y=new p["a"]({locale:w,fallbackLocale:b,messages:Object(f["a"])({},w,n("8488")("./".concat(w,".json")))}),_=y,C=n("5530"),I=n("7bb1"),x=n("4c93"),k=n("52e6"),O={install:function(e,t){e.component("ValidationObserver",I["a"]),e.component("ValidationProvider",I["b"]),Object(I["d"])("eager"),Object(I["c"])("required",Object(C["a"])(Object(C["a"])({},x["c"]),{},{message:_.t("validate.required")})),Object(I["c"])("email",Object(C["a"])(Object(C["a"])({},x["b"]),{},{message:_.t("validate.email")})),Object(I["c"])("mobileTw",{message:_.t("validate.mobileTw"),validate:function(e){return 10===e.length&&/^09\d{8}$/.test(e)}}),Object(I["c"])("mobileCn",{message:_.t("validate.mobileCn"),validate:function(e){return/^1(3|4|5|7|8)\d{9}$/.test(e)}}),Object(I["c"])("password",{message:_.t("validate.password"),validate:function(e){return!0}}),Object(I["c"])("samePw",Object(C["a"])(Object(C["a"])({},x["a"]),{},{message:_.t("validate.pwNotEqual")})),Object(I["c"])("twId",{message:_.t("validate.taiwanId"),validate:function(e){return Object(k["a"])(e)}})}},R=n("58ca"),j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.toastrLength>0,expression:"toastrLength > 0"}],staticClass:"toastr"},e._l(e.toastrList,(function(t){return n("ToastrItem",{key:t.timestamp,attrs:{timestamp:t.timestamp,status:t.status,msg:t.msg,duration:e.duration}})})),1)},L=[],P=(n("a9e3"),n("2f62")),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"",appear:"","enter-active-class":"animate__animated animate__flipInX","leave-active-class":"animate__animated animate__flipOutX"}},[e.show?n("div",{staticClass:"toastrItem",on:{click:e.hideHandler,animationend:e.animateEnd}},[n("div",{staticClass:"iconBox",class:e.boxClass},[n("i",{staticClass:"far",class:e.iconClass})]),n("div",{staticClass:"msgBox"},[e._v(e._s(e.msg))])]):e._e()])},$=[],T=(n("d3b7"),n("96cf"),n("1da1")),M={props:{timestamp:{type:Number,required:!0},status:{type:Number,required:!0,validator:function(e){return e>=0&&e<=1}},msg:{type:String,required:!0,validator:function(e){return""!==e}},duration:{type:Number,required:!0}},data:function(){return{show:!0,timer:null}},computed:{boxClass:function(){return 1===this.status?"success":"error"},iconClass:function(){return 1===this.status?"fa-check":"fa-times"}},methods:{hideHandler:function(){clearTimeout(this.timer),this.show=!1},animateEnd:function(e){e.target.classList.contains("v-leave-to")&&this.$store.commit("removeToastr",this.timestamp)},startCountdown:function(){var e=this;return new Promise((function(t){e.timer=setTimeout((function(){e.hideHandler(),t()}),e.duration)}))}},mounted:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.startCountdown();case 2:case"end":return t.stop()}}),t)})))()}},B=M,D=Object(c["a"])(B,S,$,!1,null,null,null),N=D.exports,E={props:{duration:{type:Number,default:3e3}},computed:Object(C["a"])(Object(C["a"])({},Object(P["e"])(["toastrList"])),Object(P["c"])(["toastrLength"])),components:{ToastrItem:N}},U=E,A=(n("861f"),Object(c["a"])(U,j,L,!1,null,null,null)),q=A.exports,H={install:function(e,t){e.component("Toastr",q),e.prototype.$addToastr=function(e){this.$store.commit("addToastr",e)}}},F=(n("4b3c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"defaultLayout"},[n("Header"),n("transition",{attrs:{name:"fade"}},[n("Cover",{directives:[{name:"show",rawName:"v-show",value:e.isMenuOpen,expression:"isMenuOpen"}]})],1),n("transition",{attrs:{name:"slide-right"}},[n("Sidebar",{directives:[{name:"show",rawName:"v-show",value:e.isMenuOpen,expression:"isMenuOpen"}]})],1),e._t("default"),n("PagePanel")],2)}),V=[],z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"myheader"},[r("div",{staticClass:"menuBar",on:{click:e.openMenu}},[r("i",{staticClass:"fal fa-bars"})]),r("router-link",{staticClass:"centerLogo",attrs:{to:"/"}},[r("img",{staticClass:"pic",attrs:{src:n("4ffd"),alt:""}}),r("img",{staticClass:"text",attrs:{src:n("950f"),alt:""}})]),r("router-link",{staticClass:"bellBox",class:{notice:!0},attrs:{to:"/notify"}},[r("i",{staticClass:"fal fa-bell"})])],1)},J=[],K={methods:{openMenu:function(){this.$store.commit("setMenuOpen",!0)}}},W=K,G=(n("0143"),Object(c["a"])(W,z,J,!1,null,null,null)),Q=G.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"cover"},on:{click:e.closeHandler}})},Y=[],Z={methods:{closeHandler:function(){this.$store.commit("setMenuOpen",!1)}}},ee=Z,te=(n("7338"),Object(c["a"])(ee,X,Y,!1,null,"45be4eb9",null)),ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar"},[n("div",{staticClass:"sidebarHead"}),n("div",{staticClass:"sidebarBody"},[e._l(e.sideBarMenu,(function(t){return n("SidebarItem",{key:t.id,attrs:{id:t.id,title:t.title,iconClass:t.iconClass,isSlideDown:t.isSlideDown,children:t.children},on:{update:e.updateSlide}})})),n("div",{staticClass:"sidebarItem",on:{click:e.logoutHandler}},[e._m(0)])],2)])},ae=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"itemTop"},[n("i",{staticClass:"fal fa-sign-out-alt featureIcon"}),n("span",[e._v("登出")])])}],ie=(n("4160"),n("ac1f"),n("5319"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebarItem"},[n("div",{staticClass:"itemTop",on:{click:e.openHandler}},[n("i",{staticClass:"featureIcon",class:e.iconClass}),n("span",[e._v(e._s(e.title))]),n("i",{staticClass:"fal fa-chevron-down",class:{rotate:e.isSlideDown}})]),n("SlideUpDown",{staticClass:"itemBottom",attrs:{active:e.isSlideDown,duration:250}},e._l(e.children,(function(t,r){return n("router-link",{key:r,attrs:{to:t.href},nativeOn:{click:function(t){return e.hrefPage(t)}}},[e._v(e._s(t.title))])})),1)],1)}),se=[],oe={props:{id:{type:String,required:!0},title:{type:String,required:!0},iconClass:{type:String,required:!0},isSlideDown:{type:Boolean,required:!0},children:{type:Array,required:!0}},methods:{openHandler:function(){this.$emit("update",{id:this.id,status:!this.isSlideDown})},hrefPage:function(){this.$store.commit("setMenuOpen",!1)}}},ce=oe,ue=Object(c["a"])(ce,ie,se,!1,null,null,null),le=ue.exports,de={data:function(){return{sideBarMenu:[{id:"group1",title:"會員資料",iconClass:"fal fa-user",isSlideDown:!1,children:[{title:"社區資料",href:{name:"community"}},{title:"組織成員",href:{name:"organize"}}]},{id:"group2",title:"社區相關",iconClass:"fal fa-home",isSlideDown:!1,children:[{title:"社區簡介",href:"/"},{title:"社區訊息",href:"/"},{title:"社區設施",href:"/"},{title:"社區行事曆",href:"/"}]},{id:"group3",title:"生活相關",iconClass:"fal fa-hand-holding-heart",isSlideDown:!1,children:[{title:"費用代轉",href:"/"},{title:"費用繳交",href:"/"},{title:"郵政項目",href:"/"}]}]}},methods:{updateSlide:function(e){this.sideBarMenu.forEach((function(t){t.id===e.id?t.isSlideDown=e.status:t.isSlideDown=!1}))},logoutHandler:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/doLogout");case 2:e.$router.replace("/entrance"),e.$store.commit("setMenuOpen",!1);case 4:case"end":return t.stop()}}),t)})))()}},components:{SidebarItem:le}},me=de,fe=(n("21d3"),Object(c["a"])(me,re,ae,!1,null,null,null)),pe=fe.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagePanel"},[n("router-link",{attrs:{to:"/",exact:""}},[n("i",{staticClass:"fal fa-home"}),n("div",[e._v("首頁")])]),n("router-link",{attrs:{to:"/memberProfile"}},[n("i",{staticClass:"fal fa-user"}),n("div",[e._v("我的資料")])])],1)},he=[],ge={},be=ge,we=(n("b19f"),Object(c["a"])(be,ve,he,!1,null,"4707eb92",null)),ye=we.exports,_e={computed:Object(C["a"])({},Object(P["e"])(["isMenuOpen"])),mounted:function(){},components:{Header:Q,Cover:ne,Sidebar:pe,PagePanel:ye}},Ce=_e,Ie=(n("7121"),Object(c["a"])(Ce,F,V,!1,null,null,null)),xe=Ie.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"entranceLayout"},[e.showBack?n("div",{staticClass:"backBox",class:{hasMargin:e.hasMargin}},[n("i",{staticClass:"fal fa-long-arrow-left",on:{click:e.backHandler}})]):e._e(),e._t("default")],2)},Oe=[],Re=(n("b0c0"),{computed:{routeName:function(){return this.$route.name},showBack:function(){return"entrance"!==this.routeName},hasMargin:function(){var e=["register","forgotPw"];return e.includes(this.routeName)}},methods:{backHandler:function(){this.$router.back()}}}),je=Re,Le=(n("3dde"),Object(c["a"])(je,ke,Oe,!1,null,null,null)),Pe=Le.exports,Se=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$e=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loading"}},[n("div",{staticClass:"dots"},[n("div"),n("div"),n("div")])])}],Te={},Me=Te,Be=(n("5fa0"),Object(c["a"])(Me,Se,$e,!1,null,null,null)),De=Be.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"backBlock"},[n("i",{staticClass:"fal fa-long-arrow-left",on:{click:e.backHandler}}),n("p",[e._v(e._s(e.title))])])},Ee=[],Ue={props:{title:{type:String,required:!0,validator:function(e){return""!==e}}},methods:{backHandler:function(){this.$router.back()}}},Ae=Ue,qe=(n("ca10"),Object(c["a"])(Ae,Ne,Ee,!1,null,null,null)),He=qe.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",{staticClass:"emptyTip"},[e._v(e._s(e.text))])},Ve=[],ze={props:{text:{type:String,required:!0,validator:function(e){return""!==e}}}},Je=ze,Ke=(n("3536"),Object(c["a"])(Je,Fe,Ve,!1,null,"e7ed7924",null)),We=Ke.exports,Ge=n("3e84");r["default"].component("defaultLayout",xe),r["default"].component("entranceLayout",Pe),r["default"].component("Loading",De),r["default"].component("BackBlock",He),r["default"].component("EmptyBlock",We),r["default"].component("SlideUpDown",Ge["a"]);var Qe=n("5f5b"),Xe=n("6aac"),Ye=n("dd9a");n("f9e3"),n("2dd8");r["default"].use(Qe["a"]),r["default"].component("b-modal",Xe["a"]),r["default"].component("b-dropdown",Ye["a"]);var Ze=n("7212"),et=n.n(Ze);n("a7a3");r["default"].use(et.a),r["default"].config.productionTip=!1,r["default"].use(R["a"]),r["default"].use(O),r["default"].use(H),r["default"].prototype.$hasStoreModule=function(e){return this.$store.hasModule(e)};var tt=new r["default"]({router:d["a"],store:m["a"],i18n:_,render:function(e){return e(l)}}).$mount("#app");t["default"]=tt},"5ab0":function(e,t,n){},"5b8a":function(e,t,n){},"5db8":function(e,t,n){"use strict";var r=n("536e"),a=n.n(r);a.a},"5fa0":function(e,t,n){"use strict";var r=n("6675"),a=n.n(r);a.a},"636e":function(e,t,n){"use strict";var r=n("dff5"),a=n.n(r);a.a},"63c6":function(e,t,n){e.exports=n.p+"img/record.2ab03bda.svg"},"64b1":function(e,t,n){"use strict";var r=n("a2ae"),a=n.n(r);a.a},6675:function(e,t,n){},"66c5":function(e,t,n){"use strict";var r=n("df34"),a=n.n(r);a.a},"66fe":function(e,t,n){e.exports=n.p+"img/commonBtn3.a65ae08a.svg"},6702:function(e,t,n){"use strict";var r=n("5b8a"),a=n.n(r);a.a},"6e10":function(e,t,n){},"70c9":function(e,t,n){},7121:function(e,t,n){"use strict";var r=n("ce9a"),a=n.n(r);a.a},"724d":function(e,t,n){"use strict";var r=n("5ab0"),a=n.n(r);a.a},7338:function(e,t,n){"use strict";var r=n("28d8"),a=n.n(r);a.a},7353:function(e,t,n){},7448:function(e,t,n){},"7d1d":function(e,t,n){},"814c":function(e,t,n){},"81ab":function(e,t,n){},8488:function(e,t,n){var r={"./en.json":"eccd","./tw.json":"019f"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="8488"},"84bc":function(e,t,n){},8517:function(e,t,n){e.exports=n.p+"img/task.db0ec146.svg"},"861f":function(e,t,n){"use strict";var r=n("2e0d"),a=n.n(r);a.a},8660:function(e,t,n){e.exports=n.p+"img/shift.1aaf2657.svg"},"86a2":function(e,t,n){"use strict";var r=n("3edb"),a=n.n(r);a.a},"88c3":function(e,t,n){},"8cb4":function(e,t,n){},"8e30":function(e,t,n){},"921d":function(e,t,n){},"950f":function(e,t,n){e.exports=n.p+"img/fontLogo.a47ad1b4.svg"},"95d1":function(e,t,n){e.exports=n.p+"img/seeHouse.bcbdc50a.svg"},"97bf":function(e,t,n){},"9b6d":function(e,t,n){"use strict";var r=n("d267"),a=n.n(r);a.a},"9bb6":function(e){e.exports=JSON.parse('[{"name":"台北市","code":"100","region":[{"name":"中山區","code":"104"},{"name":"大安區","code":"106"},{"name":"信義區","code":"110"},{"name":"內湖區","code":"114"},{"name":"士林區","code":"111"},{"name":"中正區","code":"100"},{"name":"松山區","code":"105"},{"name":"北投區","code":"112"},{"name":"大同區","code":"103"},{"name":"文山區","code":"116"},{"name":"南港區","code":"115"},{"name":"萬華區","code":"108"}]},{"name":"新北市","code":"207","region":[{"name":"板橋區","code":"220"},{"name":"新莊區","code":"242"},{"name":"中和區","code":"235"},{"name":"永和區","code":"234"},{"name":"淡水區","code":"251"},{"name":"三重區","code":"241"},{"name":"汐止區","code":"221"},{"name":"新店區","code":"231"},{"name":"土城區","code":"236"},{"name":"蘆洲區","code":"247"},{"name":"三峽區","code":"237"},{"name":"樹林區","code":"238"},{"name":"鶯歌區","code":"239"},{"name":"林口區","code":"244"},{"name":"五股區","code":"248"},{"name":"泰山區","code":"243"},{"name":"八里區","code":"249"},{"name":"三芝區","code":"252"},{"name":"萬里區","code":"207"},{"name":"金山區","code":"208"},{"name":"石門區","code":"253"},{"name":"深坑區","code":"222"},{"name":"石碇區","code":"223"},{"name":"瑞芳區","code":"224"},{"name":"平溪區","code":"226"},{"name":"雙溪區","code":"227"},{"name":"貢寮區","code":"228"},{"name":"坪林區","code":"232"},{"name":"烏來區","code":"233"}]},{"name":"桃園市","code":"320","region":[{"name":"中壢區","code":"320"},{"name":"平鎮區","code":"324"},{"name":"楊梅區","code":"326"},{"name":"桃園區","code":"330"},{"name":"龜山區","code":"333"},{"name":"八德區","code":"334"},{"name":"蘆竹區","code":"338"},{"name":"大園區","code":"337"},{"name":"龍潭區","code":"325"},{"name":"新屋區","code":"327"},{"name":"觀音區","code":"328"},{"name":"大溪區","code":"335"},{"name":"復興區","code":"336"}]},{"name":"新竹市","code":"300","region":[{"name":"東區","code":"30069"},{"name":"北區","code":"30042"},{"name":"香山區","code":"30093"}]},{"name":"新竹縣","code":"302","region":[{"name":"竹北市","code":"302"},{"name":"湖口鄉","code":"303"},{"name":"新豐鄉","code":"304"},{"name":"新埔鎮","code":"305"},{"name":"關西鎮","code":"306"},{"name":"芎林鄉","code":"307"},{"name":"寶山鄉","code":"308"},{"name":"竹東鎮","code":"310"},{"name":"五峰鄉","code":"311"},{"name":"橫山鄉","code":"312"},{"name":"尖石鄉","code":"313"},{"name":"北埔鄉","code":"314"},{"name":"峨嵋鄉","code":"315"}]},{"name":"基隆市","code":"200","region":[{"name":"仁愛區","code":"200"},{"name":"信義區","code":"201"},{"name":"中正區","code":"202"},{"name":"中山區","code":"203"},{"name":"安樂區","code":"204"},{"name":"暖暖區","code":"205"},{"name":"七堵區","code":"206"}]},{"name":"宜蘭縣","code":"260","region":[{"name":"宜蘭市","code":"260"},{"name":"頭城鎮","code":"261"},{"name":"礁溪鄉","code":"262"},{"name":"壯圍鄉","code":"263"},{"name":"員山鄉","code":"264"},{"name":"羅東鎮","code":"265"},{"name":"三星鄉","code":"266"},{"name":"大同鄉","code":"267"},{"name":"五結鄉","code":"268"},{"name":"冬山鄉","code":"269"},{"name":"蘇澳鎮","code":"270"},{"name":"南澳鄉","code":"272"}]},{"name":"台中市","code":"400","region":[{"name":"西屯區","code":"407"},{"name":"北區","code":"404"},{"name":"北屯區","code":"406"},{"name":"西區","code":"403"},{"name":"南區","code":"402"},{"name":"南屯區","code":"408"},{"name":"大里區","code":"412"},{"name":"中區","code":"400"},{"name":"東區","code":"401"},{"name":"太平區","code":"411"},{"name":"沙鹿區","code":"433"},{"name":"龍井區","code":"434"},{"name":"豐原區","code":"420"},{"name":"潭子區","code":"427"},{"name":"大雅區","code":"428"},{"name":"霧峰區","code":"413"},{"name":"烏日區","code":"414"},{"name":"后里區","code":"421"},{"name":"石岡區","code":"422"},{"name":"東勢區","code":"423"},{"name":"和平區","code":"424"},{"name":"新社區","code":"426"},{"name":"神岡區","code":"429"},{"name":"大肚區","code":"432"},{"name":"梧棲區","code":"435"},{"name":"清水區","code":"436"},{"name":"大甲區","code":"437"},{"name":"外埔區","code":"438"},{"name":"大安區","code":"439"}]},{"name":"彰化縣","code":"500","region":[{"name":"彰化市","code":"500"},{"name":"員林鎮","code":"510"},{"name":"鹿港鎮","code":"505"},{"name":"和美鎮","code":"508"},{"name":"大村鄉","code":"515"},{"name":"北斗鎮","code":"521"},{"name":"溪湖鎮","code":"514"},{"name":"芬園鄉","code":"502"},{"name":"花壇鄉","code":"503"},{"name":"秀水鄉","code":"504"},{"name":"福興鄉","code":"506"},{"name":"線西鄉","code":"507"},{"name":"伸港鄉","code":"509"},{"name":"社頭鄉","code":"511"},{"name":"永靖鄉","code":"512"},{"name":"埔心鄉","code":"513"},{"name":"埔鹽鄉","code":"516"},{"name":"田中鎮","code":"520"},{"name":"田尾鄉","code":"522"},{"name":"埤頭鄉","code":"523"},{"name":"溪州鄉","code":"524"},{"name":"竹塘鄉","code":"525"},{"name":"二林鎮","code":"526"},{"name":"大城鄉","code":"527"},{"name":"芳苑鄉","code":"528"},{"name":"二水鄉","code":"530"}]},{"name":"雲林縣","code":"630","region":[{"name":"斗南鎮","code":"630"},{"name":"大埤鄉","code":"631"},{"name":"虎尾鎮","code":"632"},{"name":"土庫鎮","code":"633"},{"name":"褒忠鄉","code":"634"},{"name":"東勢鄉","code":"635"},{"name":"臺西鄉","code":"636"},{"name":"崙背鄉","code":"637"},{"name":"麥寮鄉","code":"638"},{"name":"斗六市","code":"640"},{"name":"林內鄉","code":"643"},{"name":"古坑鄉","code":"646"},{"name":"莿桐鄉","code":"647"},{"name":"西螺鎮","code":"648"},{"name":"二崙鄉","code":"649"},{"name":"北港鎮","code":"651"},{"name":"水林鄉","code":"652"},{"name":"口湖鄉","code":"653"},{"name":"四湖鄉","code":"654"},{"name":"元長鄉","code":"655"}]},{"name":"苗栗縣","code":"350","region":[{"name":"竹南鎮","code":"350"},{"name":"頭份鎮","code":"351"},{"name":"三灣鄉","code":"352"},{"name":"南莊鄉","code":"353"},{"name":"獅潭鄉","code":"354"},{"name":"後龍鎮","code":"356"},{"name":"通霄鎮","code":"357"},{"name":"苑裡鎮","code":"358"},{"name":"苗栗市","code":"360"},{"name":"造橋鄉","code":"361"},{"name":"頭屋鄉","code":"362"},{"name":"公館鄉","code":"363"},{"name":"大湖鄉","code":"364"},{"name":"泰安鄉","code":"365"},{"name":"銅鑼鄉","code":"366"},{"name":"三義鄉","code":"367"},{"name":"西湖鄉","code":"368"},{"name":"卓蘭鎮","code":"369"}]},{"name":"南投縣","code":"540","region":[{"name":"南投市","code":"540"},{"name":"中寮鄉","code":"541"},{"name":"草屯鎮","code":"542"},{"name":"國姓鄉","code":"544"},{"name":"埔里鎮","code":"545"},{"name":"仁愛鄉","code":"546"},{"name":"名間鄉","code":"551"},{"name":"集集鎮","code":"552"},{"name":"水里鄉","code":"553"},{"name":"魚池鄉","code":"555"},{"name":"信義鄉","code":"556"},{"name":"竹山鎮","code":"557"},{"name":"鹿谷鄉","code":"558"}]},{"name":"台南市","code":"700","region":[{"name":"東區","code":"701"},{"name":"北區","code":"704"},{"name":"永康區","code":"710"},{"name":"中西區","code":"700"},{"name":"善化區","code":"741"},{"name":"新市區","code":"744"},{"name":"安平區","code":"708"},{"name":"南區","code":"702"},{"name":"安南區","code":"709"},{"name":"仁德區","code":"717"},{"name":"新營區","code":"730"},{"name":"安定區","code":"745"},{"name":"麻豆區","code":"721"},{"name":"佳里區","code":"722"},{"name":"歸仁區","code":"711"},{"name":"新化區","code":"712"},{"name":"左鎮區","code":"713"},{"name":"玉井區","code":"714"},{"name":"楠西區","code":"715"},{"name":"南化區","code":"716"},{"name":"關廟區","code":"718"},{"name":"龍崎區","code":"719"},{"name":"官田區","code":"720"},{"name":"西港區","code":"723"},{"name":"七股區","code":"724"},{"name":"將軍區","code":"725"},{"name":"學甲區","code":"726"},{"name":"北門區","code":"727"},{"name":"後壁區","code":"731"},{"name":"白河區","code":"732"},{"name":"東山區","code":"733"},{"name":"六甲區","code":"734"},{"name":"下營區","code":"735"},{"name":"柳營區","code":"736"},{"name":"鹽水區","code":"737"},{"name":"大內區","code":"742"},{"name":"山上區","code":"743"}]},{"name":"高雄市","code":"800","region":[{"name":"三民區","code":"807"},{"name":"左營區","code":"813"},{"name":"苓雅區","code":"802"},{"name":"鼓山區","code":"804"},{"name":"楠梓區","code":"811"},{"name":"前鎮區","code":"806"},{"name":"鳳山區","code":"830"},{"name":"新興區","code":"800"},{"name":"前金區","code":"801"},{"name":"小港區","code":"812"},{"name":"大寮區","code":"831"},{"name":"岡山區","code":"820"},{"name":"鹽埕區","code":"803"},{"name":"仁武區","code":"814"},{"name":"大社區","code":"815"},{"name":"旗津區","code":"805"},{"name":"路竹區","code":"821"},{"name":"阿蓮區","code":"822"},{"name":"田寮區","code":"823"},{"name":"燕巢區","code":"824"},{"name":"橋頭區","code":"825"},{"name":"梓官區","code":"826"},{"name":"彌陀區","code":"827"},{"name":"永安區","code":"828"},{"name":"湖內區","code":"829"},{"name":"林園區","code":"832"},{"name":"鳥松區","code":"833"},{"name":"大樹區","code":"840"},{"name":"旗山區","code":"842"},{"name":"美濃區","code":"843"},{"name":"六龜區","code":"844"},{"name":"內門區","code":"845"},{"name":"杉林區","code":"846"},{"name":"甲仙區","code":"847"},{"name":"桃源區","code":"848"},{"name":"那瑪夏區","code":"849"},{"name":"茂林區","code":"851"},{"name":"茄萣區","code":"852"}]},{"name":"嘉義市","code":"600","region":[{"name":"東區","code":"60070"},{"name":"西區","code":"60085"}]},{"name":"嘉義縣","code":"602","region":[{"name":"番路鄉","code":"602"},{"name":"梅山鄉","code":"603"},{"name":"竹崎鄉","code":"604"},{"name":"阿里山","code":"605"},{"name":"中埔鄉","code":"606"},{"name":"大埔鄉","code":"607"},{"name":"水上鄉","code":"608"},{"name":"鹿草鄉","code":"611"},{"name":"太保市","code":"612"},{"name":"朴子市","code":"613"},{"name":"東石鄉","code":"614"},{"name":"六腳鄉","code":"615"},{"name":"新港鄉","code":"616"},{"name":"民雄鄉","code":"621"},{"name":"大林鎮","code":"622"},{"name":"溪口鄉","code":"623"},{"name":"義竹鄉","code":"624"},{"name":"布袋鎮","code":"625"}]},{"name":"屏東縣","code":"900","region":[{"name":"屏東市","code":"900"},{"name":"三地門","code":"901"},{"name":"霧臺鄉","code":"902"},{"name":"瑪家鄉","code":"903"},{"name":"九如鄉","code":"904"},{"name":"里港鄉","code":"905"},{"name":"高樹鄉","code":"906"},{"name":"鹽埔鄉","code":"907"},{"name":"長治鄉","code":"908"},{"name":"麟洛鄉","code":"909"},{"name":"竹田鄉","code":"911"},{"name":"內埔鄉","code":"912"},{"name":"萬丹鄉","code":"913"},{"name":"潮州鎮","code":"920"},{"name":"泰武鄉","code":"921"},{"name":"來義鄉","code":"922"},{"name":"萬巒鄉","code":"923"},{"name":"崁頂鄉","code":"924"},{"name":"新埤鄉","code":"925"},{"name":"南州鄉","code":"926"},{"name":"林邊鄉","code":"927"},{"name":"東港鎮","code":"928"},{"name":"琉球鄉","code":"929"},{"name":"佳冬鄉","code":"931"},{"name":"新園鄉","code":"932"},{"name":"枋寮鄉","code":"940"},{"name":"枋山鄉","code":"941"},{"name":"春日鄉","code":"942"},{"name":"獅子鄉","code":"943"},{"name":"車城鄉","code":"944"},{"name":"牡丹鄉","code":"945"},{"name":"恆春鎮","code":"946"},{"name":"滿州鄉","code":"947"}]},{"name":"台東縣","code":"950","region":[{"name":"臺東市","code":"950"},{"name":"綠島鄉","code":"951"},{"name":"蘭嶼鄉","code":"952"},{"name":"延平鄉","code":"953"},{"name":"卑南鄉","code":"954"},{"name":"鹿野鄉","code":"955"},{"name":"關山鎮","code":"956"},{"name":"海端鄉","code":"957"},{"name":"池上鄉","code":"958"},{"name":"東河鄉","code":"959"},{"name":"成功鎮","code":"961"},{"name":"長濱鄉","code":"962"},{"name":"太麻里鄉","code":"963"},{"name":"金峰鄉","code":"964"},{"name":"大武鄉","code":"965"},{"name":"達仁鄉","code":"966"}]},{"name":"花蓮縣","code":"970","region":[{"name":"花蓮市","code":"970"},{"name":"新城鄉","code":"971"},{"name":"秀林鄉","code":"972"},{"name":"吉安鄉","code":"973"},{"name":"壽豐鄉","code":"974"},{"name":"鳳林鎮","code":"975"},{"name":"光復鄉","code":"976"},{"name":"豐濱鄉","code":"977"},{"name":"瑞穗鄉","code":"978"},{"name":"萬榮鄉","code":"979"},{"name":"玉里鎮","code":"981"},{"name":"卓溪鄉","code":"982"},{"name":"富里鄉","code":"983"}]},{"name":"澎湖縣","code":"880","region":[{"name":"馬公市","code":"880"},{"name":"西嶼鄉","code":"881"},{"name":"望安鄉","code":"882"},{"name":"七美鄉","code":"883"},{"name":"白沙鄉","code":"884"},{"name":"湖西鄉","code":"885"}]},{"name":"金門縣","code":"890","region":[{"name":"金沙鎮","code":"890"},{"name":"金湖鎮","code":"891"},{"name":"金寧鄉","code":"892"},{"name":"金城鎮","code":"893"},{"name":"烈嶼鄉","code":"894"},{"name":"烏坵鄉","code":"896"}]},{"name":"連江縣","code":"209","region":[{"name":"南竿鄉","code":"209"},{"name":"北竿鄉","code":"210"},{"name":"莒光鄉","code":"211"},{"name":"東引鄉","code":"212"}]}]')},"9fa0":function(e,t,n){},a158:function(e,t,n){},a18c:function(e,t,n){"use strict";n("caad"),n("45fc"),n("b0c0");var r=n("2b0e"),a=n("8c4f"),i=n("4360"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("keep-alive",{attrs:{include:["workMission","patrolMission"]}},[n("router-view")],1)},o=[],c={name:"tempView"},u=c,l=n("2877"),d=Object(l["a"])(u,s,o,!1,null,null,null),m=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("BannerBlock",{attrs:{targetCommunity:e.targetCommunity},on:{switch:e.chooseCommunity}}),n("PositionBox"),n("BulletinSlider",{attrs:{bulletinData:e.bulletin1}}),n("Announce",{attrs:{title:"社區公告",announceData:e.bulletin2}}),n("b-modal",{attrs:{id:"calModal","modal-class":"mymodal","no-close-on-backdrop":""},on:{hidden:e.hiddenModal},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[n("i",{staticClass:"fal fa-times",on:{click:function(e){return r()}}}),n("h3",[e._v("切換社區")])]}},{key:"default",fn:function(){return[n("p",{staticClass:"formTitle"},[e._v("選擇社區")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectId,expression:"selectId"}],staticClass:"mySelect",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectId=t.target.multiple?n:n[0]}}},e._l(e.communityList,(function(t,r){return n("option",{key:r,domProps:{value:t.iId}},[e._v(e._s(t.vName))])})),0)]},proxy:!0},{key:"modal-footer",fn:function(){return[n("button",{staticClass:"btnSure",on:{click:e.switchCommunity}},[e._v("確定")])]},proxy:!0}])}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},p=[],v=(n("4de4"),n("7db0"),n("d3b7"),n("96cf"),n("1da1")),h=n("5530"),g=n("2f62"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bannerBlock"},[n("div",{staticClass:"communityIntro"},[n("div",{staticClass:"userName"},[e._v(e._s(e.targetCommunity.name))]),n("div",{staticClass:"communityName",on:{click:e.clickHandler}},[n("span",[e._v(e._s(e.targetCommunity.vName))]),n("i",{staticClass:"fas fa-caret-down"})])])])},w=[],y={props:{targetCommunity:{type:Object,required:!0}},methods:{clickHandler:function(){this.$emit("switch")}}},_=y,C=(n("3a6f"),Object(l["a"])(_,b,w,!1,null,"fbb7b59c",null)),I=C.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData,expression:"hasData"}],staticClass:"bulletinSlider"},[n("swiper",{ref:"mySwiper",staticClass:"topSwiperBox",attrs:{options:e.swiperOption}},[e._l(e.bulletinData,(function(t){return n("swiper-slide",{key:t.iId},[n("img",{attrs:{src:t.vImage,alt:""}}),n("p",{staticClass:"imgDesc"},[e._v(e._s(t.vTitle))])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:e.moreThanOne,expression:"moreThanOne"}],staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},k=[],O={props:{bulletinData:{type:Array,required:!0}},data:function(){return{swiper:null,swiperOption:{loop:!0,initialSlide:0,spaceBetween:10,pagination:{el:".swiper-pagination"}}}},computed:{hasData:function(){return this.bulletinData.length>0},moreThanOne:function(){return this.bulletinData.length>1}},mounted:function(){this.swiper=this.$refs.mySwiper.$swiper},watch:{bulletinData:function(){this.hasData&&this.swiper.slideTo(1,0,!1),this.swiper.allowTouchMove=this.moreThanOne}}},R=O,j=(n("6702"),Object(l["a"])(R,x,k,!1,null,null,null)),L=j.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData,expression:"hasData"}],staticClass:"announceBox"},[n("p",{staticClass:"title"},[e._v(e._s(e.title))]),n("swiper",{ref:"mySwiper",staticClass:"bottomSwiperBox",attrs:{options:e.swiperOption}},e._l(e.announceData,(function(t){return n("swiper-slide",{key:t.iId},[n("router-link",{attrs:{to:"/bulletin/"+t.iId}},[n("img",{attrs:{src:t.vImage,alt:""}}),n("p",{staticClass:"desc"},[e._v(e._s(t.vTitle))])])],1)})),1)],1)},S=[],$=n("ade3"),T={props:{title:{type:String,required:!0},announceData:{type:Array,required:!0}},data:function(){return{swiper:null,swiperOption:Object($["a"])({spaceBetween:10,slidesPerView:3},"slidesPerView","auto")}},computed:{hasData:function(){return this.announceData.length>0}}},M=T,B=(n("4a74"),Object(l["a"])(M,P,S,!1,null,"1a82c4f2",null)),D=B.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"positionBox"},[n("div",{staticClass:"title"},[e._v("職務入口")]),n("div",{staticClass:"positionList"},e._l(e.lists,(function(t,r){return n("router-link",{key:r,attrs:{to:t.href}},[n("i",{class:t.iconClass}),n("span",[e._v(e._s(t.title))])])})),1)])},E=[],U={data:function(){return{lists:[{title:"保全人員",iconClass:"fas fa-user-shield",href:"/security"}]}}},A=U,q=(n("66c5"),Object(l["a"])(A,N,E,!1,null,"5c4124a4",null)),H=q.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"featureBox"},[n("div",{staticClass:"featureList"},e._l(e.lists,(function(t,r){return n("router-link",{key:r,attrs:{to:t.href}},[n("img",{attrs:{src:t.imgUrl,alt:""}}),n("p",[e._v(e._s(t.title))])])})),1)])},V=[],z={data:function(){return{lists:[{title:"繳交費用",imgUrl:n("ed07"),href:"/"},{title:"郵件包裹",imgUrl:n("ea95"),href:"/"},{title:"費用代轉",imgUrl:n("66fe"),href:"/"},{title:"我的預約",imgUrl:n("fcb1"),href:"/"},{title:"意見反饋",imgUrl:n("209d"),href:"/"}]}}},J=z,K=(n("abd7"),Object(l["a"])(J,F,V,!1,null,null,null)),W=(K.exports,n("da71")),G={getBulletin:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/community/announcement_list",method:"post",data:e}).then((function(e){return e.data.aaData}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getNotify:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/community/notify_list",method:"post",data:e}).then((function(e){return e.data.aaData}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getMember:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/community/member_detail",method:"post",data:e}).then((function(e){return e.data.aaData}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getCommunityList:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/community/community_list",method:"post",data:e}).then((function(e){return e.data.aaData}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},addMember:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/community/member_doadd",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},saveMember:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/community/member_dosave",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},deleteMember:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/community/member_dodel",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},Q={name:"home",metaInfo:function(){return{title:this.$i18n.t("seo.home.title")}},data:function(){return{communityList:[],selectId:"",bulletin1:[],bulletin2:[],isLoading:!1}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{targetCommunity:function(){var e=this,t=this.communityList.find((function(t){return t.iId===e.userCommunity}));return void 0!==t?t:{}}}),methods:Object(h["a"])(Object(h["a"])({},Object(g["d"])("auth",["setUserCommunity"])),{},{getBulletin:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,G.getBulletin({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iCommunityId:e.userCommunity}).then((function(e){return e})).finally((function(){return e.isLoading=!1}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},chooseCommunity:function(){this.$bvModal.show("calModal")},getStorageData:function(){var e=localStorage.getItem("userInfo");return JSON.parse(e)},tidyCommunity:function(){var e=JSON.parse(JSON.stringify(this.userInfo.community));return e.sort((function(e,t){return e.iId-t.iId})),e},setDefaultData:function(){this.communityList=this.tidyCommunity(),null===this.userCommunity&&this.setUserCommunity(this.communityList[0].iId),this.selectId=this.userCommunity},tidyBulletin:function(e){this.bulletin1=e.filter((function(e){return 1===e.iPosition})),this.bulletin2=e.filter((function(e){return 2===e.iPosition}))},switchCommunity:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setUserCommunity(e.selectId),t.next=3,e.getBulletin().then((function(e){return e}));case 3:n=t.sent,e.tidyBulletin(n),e.$bvModal.hide("calModal");case 6:case"end":return t.stop()}}),t)})))()},hiddenModal:function(){this.selectId=this.userCommunity}}),mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setDefaultData(),t.next=3,e.switchCommunity();case 3:case"end":return t.stop()}}),t)})))()},components:{BannerBlock:I,BulletinSlider:L,Announce:D,PositionBox:H}},X=Q,Y=(n("4767"),Object(l["a"])(X,f,p,!1,null,null,null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"entrance"},[n("LogoBox"),n("div",{staticClass:"directBox"},[n("router-link",{staticClass:"btnLogin",attrs:{to:"/login"}},[e._v("登入")]),n("router-link",{staticClass:"outline-signIn",attrs:{to:"/register"}},[e._v("註冊")])],1)],1)},te=[],ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logoBox",class:{small:e.isSmall}},[r("div",{staticClass:"flashBox"},[r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:n("4ffd")}})]),e._m(0)]),r("img",{staticClass:"fontLogo",attrs:{src:n("950f"),alt:""}})])},re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rippleBox"},[n("div",{staticClass:"ripple ripple-inner"}),n("div",{staticClass:"ripple ripple-middle"}),n("div",{staticClass:"ripple ripple-outer"})])}],ae={props:{isSmall:{type:Boolean,default:!1}}},ie=ae,se=(n("c367"),Object(l["a"])(ie,ne,re,!1,null,null,null)),oe=se.exports,ce={name:"entrance",metaInfo:function(){return{title:this.$i18n.t("seo.entrance.title")}},components:{LogoBox:oe}},ue=ce,le=(n("f36a"),Object(l["a"])(ue,ee,te,!1,null,null,null)),de=le.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("LogoBox",{attrs:{isSmall:!0}}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),n("div",{staticClass:"mycontainer authBox"},[n("h1",{staticClass:"authTitle"},[e._v("會員登入")]),n("div",{staticClass:"authBody"},[n("ValidationObserver",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("帳號")]),n("div",{staticClass:"formContent phoneContent"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"myInput",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.code=t.target.multiple?n:n[0]}}},e._l(e.areaCode,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),n("ValidationProvider",{staticClass:"outer",attrs:{tag:"div",rules:"required|"+e.phoneRule},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入手機號碼"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)]),n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("密碼")]),n("ValidationProvider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"password",placeholder:"請輸入密碼"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)]),n("div",{staticClass:"settingBox"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.keep,expression:"user.keep"}],staticClass:"keepCheckbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.user.keep)?e._i(e.user.keep,null)>-1:e.user.keep},on:{change:function(t){var n=e.user.keep,r=t.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);r.checked?s<0&&e.$set(e.user,"keep",n.concat([i])):s>-1&&e.$set(e.user,"keep",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.user,"keep",a)}}}),n("span",[e._v("記住我")])]),n("router-link",{attrs:{to:"/forgotPw"}},[e._v("忘記密碼?")])],1),n("div",{staticClass:"btnBox center"},[n("button",{staticClass:"btnAuth",on:{click:e.clickHandler}},[e._v("登入")])])],1),n("div",{staticClass:"luckyTip"},[e._v(" 還沒有家幸福帳號? "),n("router-link",{attrs:{to:"/register"}},[e._v("立即註冊")])],1)])],1)},fe=[],pe=(n("ac1f"),n("5319"),n("4e36")),ve={name:"login",metaInfo:function(){return{title:this.$i18n.t("seo.login.title")}},data:function(){return{areaCode:["+886","+86"],code:"+886",isLoading:!1,user:{phone:"0900000002",password:"password",keep:!1}}},computed:{phoneRule:function(){var e={"+886":"mobileTw","+86":"mobileCn"};return e[this.code]}},methods:{doLogin:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("auth/doLogin",{vAccount:e.user.phone,vPassword:pe["a"].encodeMd5(e.user.password)}).then((function(e){return e})).finally((function(){return e.isLoading=!1}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},clickHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate().then((function(e){return e}));case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.doLogin().then((function(e){return e}));case 7:r=t.sent,a=r.loginStatus,a?e.$router.replace("/"):e.$addToastr({status:0,msg:"帳號密碼有誤"});case 10:case"end":return t.stop()}}),t)})))()}},components:{LogoBox:oe}},he=ve,ge=(n("a628"),Object(l["a"])(he,me,fe,!1,null,null,null)),be=ge.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[e.isLoading?n("Loading"):e._e(),n("div",{staticClass:"mycontainer authBox"},[n("h1",{staticClass:"authTitle"},[e._v("會員註冊")]),n("div",{staticClass:"authBody"},[n("ValidationObserver",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("帳號*")]),n("div",{staticClass:"formContent phoneContent"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"myInput",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.code=t.target.multiple?n:n[0]}}},e._l(e.areaCode,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),n("ValidationProvider",{staticClass:"outer",attrs:{tag:"div",rules:"required|"+e.phoneRule},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.phone,expression:"user.phone",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入手機號碼"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)]),n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("姓名*")]),n("ValidationProvider",{staticClass:"formContent",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.name,expression:"user.name",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入名稱"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1),n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("Email*")]),n("ValidationProvider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.email,expression:"user.email",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"email",placeholder:"請輸入電子信箱"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1),n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("密碼*")]),n("ValidationProvider",{staticClass:"formContent",attrs:{tag:"div",vid:"confirm",rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"password",placeholder:"請輸入含英文及數字，長度6~10碼"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1),n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("再次輸入密碼*")]),n("ValidationProvider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|samePw:confirm"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confirmPw,expression:"user.confirmPw",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"password",placeholder:"請再次輸入密碼"},domProps:{value:e.user.confirmPw},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPw",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)]),n("div",{staticClass:"btnBox center"},[n("button",{staticClass:"btnAuth",on:{click:e.clickHandler}},[e._v("註冊")])])],1),n("div",{staticClass:"luckyTip"},[e._v(" 已有帳號? "),n("router-link",{attrs:{to:"/login"}},[e._v("立即登入")])],1)])],1)},ye=[],_e={name:"register",metaInfo:function(){return{title:this.$i18n.t("seo.register.title")}},data:function(){return{areaCode:["+886","+86"],code:"+886",user:{phone:"0976104667",name:"admin",email:"admin@gmail.com",password:"abc123",confirmPw:"abc123"},isLoading:!1}},computed:{phoneRule:function(){var e={"+886":"mobileTw","+86":"mobileCn"};return e[this.code]}},methods:Object(h["a"])(Object(h["a"])({},Object(g["b"])("auth",{doRegister:"doRegister"})),{},{clickHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate().then((function(e){return e}));case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:return e.isLoading=!0,t.next=8,e.doRegister({vAccount:e.user.phone,name:e.user.name,email:e.user.email,password:e.user.password,confirmPw:e.user.confirmPw}).then((function(e){return e})).finally((function(){return e.isLoading=!1}));case 8:r=t.sent,a=r.registerStatus,i=r.message,e.$addToastr({status:a?1:0,msg:i}),a&&e.$router.replace("/login");case 13:case"end":return t.stop()}}),t)})))()}})},Ce=_e,Ie=Object(l["a"])(Ce,we,ye,!1,null,null,null),xe=Ie.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"forgotPw"},[e.isLoading?n("Loading"):e._e(),n("div",{staticClass:"mycontainer authBox"},[n("h1",{staticClass:"authTitle"},[e._v("忘記密碼")]),n("div",{staticClass:"authBody"},[n("ValidationObserver",{ref:"verifyForm",staticClass:"formLayout verifyForm",attrs:{tag:"div"}},[n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("帳號")]),n("div",{staticClass:"formContent phoneContent"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"myInput",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.code=t.target.multiple?n:n[0]}}},e._l(e.areaCode,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),n("ValidationProvider",{staticClass:"outer",attrs:{tag:"div",rules:"required|"+e.phoneRule},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.phone,expression:"user.phone",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"number",placeholder:"請輸入手機號碼"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)]),n("div",{staticClass:"formRow"},[n("button",{staticClass:"outline-verify",on:{click:e.sendHandler}},[e._v("寄送驗證碼")])])]),n("ValidationObserver",{ref:"msgForm",staticClass:"formLayout",attrs:{tag:"div"}},[n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("簡訊驗證碼")]),n("ValidationProvider",{staticClass:"formContent",attrs:{tag:"div",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.msg,expression:"user.msg",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"password",placeholder:"請輸入簡訊驗證碼"},domProps:{value:e.user.msg},on:{input:function(t){t.target.composing||e.$set(e.user,"msg",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)]),n("div",{staticClass:"btnBox center"},[n("button",{staticClass:"btnAuth",on:{click:e.confirmHandler}},[e._v("確定")])])],1)])],1)},Oe=[],Re=n("f5ff"),je={name:"forgotPw",metaInfo:function(){return{title:this.$i18n.t("seo.register.title")}},data:function(){return{areaCode:["+886","+86"],code:"+886",user:{phone:"",msg:""},isLoading:!1}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["forgotUser"])),{},{phoneRule:function(){var e={"+886":"mobileTw","+86":"mobileCn"};return e[this.code]}}),methods:Object(h["a"])(Object(h["a"])({},Object(g["b"])("auth",["sendSMS","checkCode"])),{},{sendHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.verifyForm.validate().then((function(e){return e}));case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.sendSMS({vAccount:e.user.phone}).then((function(e){return e}));case 7:r=t.sent,e.$addToastr({status:r?1:0,msg:r?"簡訊已寄送":"請重新輸入電話碼"});case 9:case"end":return t.stop()}}),t)})))()},isSendedSMS:function(){var e=null!==this.forgotUser;return e||this.$addToastr({status:0,msg:"請先取得簡訊驗證碼"}),e},confirmHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isSendedSMS()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$refs.msgForm.validate().then((function(e){return e}));case 4:if(n=t.sent,n){t.next=7;break}return t.abrupt("return");case 7:return e.isLoading=!0,t.next=10,e.checkCode({vVerification:e.user.msg}).then((function(e){return e})).finally((function(){e.isLoading=!1}));case 10:r=t.sent,a=r.status,i=r.message,s=1===a,e.$addToastr({status:s?1:0,msg:i}),s&&e.$router.push("/fixPassword");case 16:case"end":return t.stop()}}),t)})))()}})},Le=je,Pe=(n("358d"),Object(l["a"])(Le,ke,Oe,!1,null,null,null)),Se=Pe.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fixPassword"},[e.isLoading?n("Loading"):e._e(),n("div",{staticClass:"mycontainer authBox"},[n("h1",{staticClass:"authTitle"},[e._v("修改密碼")]),n("div",{staticClass:"authBody"},[n("ValidationObserver",{ref:"form",staticClass:"formLayout",attrs:{tag:"div"}},[n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("密碼*")]),n("ValidationProvider",{staticClass:"formContent",attrs:{tag:"div",vid:"confirm",rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.password,expression:"user.password",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"password",placeholder:"請輸入含英文及數字，長度6~10碼"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1),n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("再次輸入密碼*")]),n("ValidationProvider",{staticClass:"formContent",attrs:{tag:"div",rules:"required|samePw:confirm"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confirmPw,expression:"user.confirmPw",modifiers:{trim:!0}}],staticClass:"myInput",attrs:{type:"password",placeholder:"請再次輸入密碼"},domProps:{value:e.user.confirmPw},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPw",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:0!==r.length,expression:"errors.length !== 0"}],staticClass:"errMsg"},[e._v(" "+e._s(r[0])+" ")])]}}])})],1)]),n("div",{staticClass:"btnBox center"},[n("button",{staticClass:"btnAuth",on:{click:e.fixHandler}},[e._v("修改密碼")])])],1)])],1)},Te=[],Me={name:"register",metaInfo:function(){return{title:this.$i18n.t("seo.fixPassword.title")}},data:function(){return{user:{password:"",confirmPw:""},isLoading:!1}},methods:Object(h["a"])(Object(h["a"])({},Object(g["b"])("auth",["fixPassword"])),{},{fixHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate().then((function(e){return e}));case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:return e.isLoading=!0,t.next=8,e.fixPassword({password:e.user.password,confirmPw:e.user.confirmPw}).then((function(e){return e})).finally((function(){e.isLoading=!1}));case 8:r=t.sent,a=r.status,i=r.message,s=1===a,e.$addToastr({status:s?1:0,msg:i}),s&&e.$router.replace("/login");case 14:case"end":return t.stop()}}),t)})))()}})},Be=Me,De=Object(l["a"])(Be,$e,Te,!1,null,null,null),Ne=De.exports,Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"security"},[r("CharacterInfo"),e.openCamera?r("QrcodeReader",{attrs:{openCamera:e.openCamera,cameraStatus:e.cameraStatus,isProcess:e.isProcess},on:{"update:openCamera":function(t){e.openCamera=t},"update:open-camera":function(t){e.openCamera=t},"update:cameraStatus":function(t){e.cameraStatus=t},"update:camera-status":function(t){e.cameraStatus=t},scan:e.scanHandler}}):e._e(),r("div",{staticClass:"mycontainer"},[r("div",{staticClass:"punchBox",on:{click:e.punchHandler}},[r("img",{attrs:{src:n("177f"),alt:""}}),r("span",[e._v("上下班打卡")])]),r("div",{staticClass:"workBox"},[r("p",{staticClass:"title"},[e._v("工作項目")]),r("div",{staticClass:"workContent"},[r("div",{staticClass:"workRow split"},[r("div",{staticClass:"workItem"},[r("img",{attrs:{src:n("63c6"),alt:""}}),r("span",[e._v("手動簽收")])]),r("router-link",{staticClass:"workItem",attrs:{to:"/"}},[r("img",{attrs:{src:n("95d1"),alt:""}}),r("span",[e._v("包裹相關")])])],1),r("div",{staticClass:"workRow"},[r("router-link",{staticClass:"workItem",attrs:{to:{name:"workMission"}}},[r("span",[e._v("工作任務")]),r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:n("8517"),alt:""}})])])],1)])]),r("div",{staticClass:"workBox"},[r("p",{staticClass:"title"},[e._v("我的紀錄")]),r("div",{staticClass:"workContent"},[r("div",{staticClass:"workRow"},[r("router-link",{staticClass:"workItem small",attrs:{to:{name:"workRecord"}}},[r("span",[e._v("工作紀錄")]),r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:n("63c6"),alt:""}})])])],1),r("div",{staticClass:"workRow"},[r("router-link",{staticClass:"workItem small",attrs:{to:{name:"workSchedule"}}},[r("span",[e._v("我的班表")]),r("div",{staticClass:"imgBox"},[r("img",{attrs:{src:n("8660"),alt:""}})])])],1)])])])],1)},Ue=[],Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"characterInfo"},[n("div",{staticClass:"backIcon",on:{click:e.backHandler}},[n("i",{staticClass:"fal fa-long-arrow-left"})]),n("div",{staticClass:"detailBox"},[n("div",{staticClass:"companyName"},[e._v(e._s(e.companyName||"Big Company"))]),n("div",{staticClass:"laborName"},[n("span",[e._v(e._s(e.laborName))])])])])},qe=[],He={computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo"])),{},{securityData:function(){return null===this.userInfo?null:this.userInfo.security[0]},companyName:function(){return null===this.securityData?"":this.securityData.vName},laborName:function(){return null===this.securityData?"":this.securityData.name}}),methods:{backHandler:function(){this.$router.back()}}},Fe=He,Ve=(n("cab0"),Object(l["a"])(Fe,Ae,qe,!1,null,"1a8439b2",null)),ze=Ve.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"qrcodeReader"}},[n("div",{staticClass:"closeText",on:{click:e.closeHandler}},[e._v("關閉")]),e.hasError?n("div",{staticClass:"errorTip"},[e._v(e._s(e.errorMessage))]):n("div",{ref:"lensBox",staticClass:"lensBox"},[e.openCamera?n("qrcode-stream",{attrs:{camera:e.cameraStatus},on:{decode:e.onDecode,init:e.onInit}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowProcessText,expression:"isShowProcessText"}]},[e._v("相機開啟中...")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isProcess,expression:"isProcess"}],staticClass:"process"},[e._v("處理中...")])]):e._e()],1)])},Ke=[],We=n("6d12"),Ge={props:{openCamera:{type:Boolean,required:!0},cameraStatus:{type:String,required:!0},isProcess:{type:Boolean,required:!0}},data:function(){return{cameraLoading:!1,errorMessage:"",errorInfo:{NotAllowedError:"you need to grant camera access permisson",NotFoundError:"no camera on this device",NotSupportedError:"secure context required (HTTPS, localhost)",NotReadableError:"is the camera already in use",OverconstrainedError:"installed cameras are not suitable",StreamApiNotSupportedError:"Stream API is not supported in this browser"},isFirst:!0}},computed:{hasError:function(){return""!==this.errorMessage},isShowProcessText:function(){return this.isFirst&&this.cameraLoading}},methods:{onInit:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.cameraLoading=!0,n.next=4,e;case 4:t.errorMessage,t.isFirst=!1,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),t.errorMessage=t.errorInfo[n.t0.name];case 11:return n.prev=11,t.cameraLoading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})))()},onDecode:function(e){this.$emit("scan",{scanData:e,lensElement:this.$refs.lensBox})},closeHandler:function(){this.isProcess||(this.$emit("update:openCamera",!1),this.$emit("update:cameraStatus","auto"))}},components:{QrcodeStream:We["QrcodeStream"]}},Qe=Ge,Xe=(n("86a2"),Object(l["a"])(Qe,Je,Ke,!1,null,null,null)),Ye=Xe.exports,Ze={uploadAttendance:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/security/upload/attendance",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getAttendance:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/security/attendance_list",method:"post",data:e}).then((function(e){return e.data.aaData}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getSchedule:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/security/schedule_list",method:"post",data:e}).then((function(e){return e.data.aaData}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getMission:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/security/mission_list",method:"post",data:e}).then((function(e){return e.data.aaData}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},uploadMission:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["a"])({url:"/security/upload/mission",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},et={name:"security",metaInfo:function(){return{title:this.$i18n.t("seo.security.title")}},data:function(){return{openCamera:!1,cameraStatus:"auto",isProcess:!1}},computed:Object(h["a"])({},Object(g["e"])("auth",["userInfo"])),methods:{punchHandler:function(){this.openCamera=!0},uploadAttendance:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Ze.uploadAttendance({iUserId:t.userInfo.user_id,vToken:t.userInfo.token,iSecurityId:2,log:[e]}).then((function(e){if(""===e)throw new Error;return e})).catch((function(e){return{status:0}}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},scanHandler:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.scanData,t.cameraStatus="off",t.isProcess=!0,n.next=5,t.uploadAttendance({vCode:r}).then((function(e){return e}));case 5:a=n.sent,i=a.status,s=1===i,t.openCamera=!1,t.cameraStatus="auto",t.isProcess=!1,t.$addToastr({status:s?1:0,msg:s?"打卡成功":"打卡失敗"});case 12:case"end":return n.stop()}}),n)})))()}},components:{CharacterInfo:ze,QrcodeReader:Ye}},tt=et,nt=(n("42e0"),Object(l["a"])(tt,Ee,Ue,!1,null,null,null)),rt=nt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notify"},[n("BackBlock",{attrs:{title:"通知"}}),n("div",{staticClass:"mycontainer vertical tabGutter"},[n("NotifyTab",{attrs:{currentTabId:e.currentTabId},on:{tabUpdate:e.tabHandler}}),n("KeywordPanel",{attrs:{editId:e.editId},on:{"update:editId":function(t){e.editId=t},"update:edit-id":function(t){e.editId=t}},model:{value:e.currentKeyword,callback:function(t){e.currentKeyword=t},expression:"currentKeyword"}})],1),n("div",{ref:"notifyWrap",staticClass:"notifyWrap"},e._l(e.tabStatus,(function(t){return n("NotifyContent",{directives:[{name:"show",rawName:"v-show",value:t.id===e.currentTabId,expression:"tab.id === currentTabId"}],key:t.id,attrs:{detail:t,showRemove:e.showRemove}})})),1)],1)},it=[],st=(n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notifyTab"},[e._l(e.tabList,(function(t){return n("div",{key:t.id,ref:"x"+t.id,refInFor:!0,staticClass:"tabItem",class:{active:e.currentTabId===t.id},on:{click:function(n){return e.changeTab(t.id,n)}}},[e._v(e._s(t.title))])})),n("div",{ref:"moveItem",staticClass:"moveItem",class:{animate:e.isAnimate}})],2)}),ot=[],ct=(n("a9e3"),{props:{currentTabId:{type:Number,required:!0}},data:function(){return{isAnimate:!1,isFirst:!0,tabList:[{id:2,title:"郵政通知"},{id:3,title:"用戶通知"}]}},methods:{changeTab:function(e,t){var n=this.$refs.moveItem,r=t.target.offsetLeft;n.style.left="".concat(r,"px"),this.isFirst||this.$emit("tabUpdate",{id:e}),this.isFirst=!1},tirggerEvent:function(){var e=this,t=this.$refs["x".concat(this.currentTabId)][0];t.dispatchEvent(new Event("click")),setTimeout((function(){e.isAnimate=!0}),0)}},mounted:function(){this.tirggerEvent()}}),ut=ct,lt=(n("01ab"),Object(l["a"])(ut,st,ot,!1,null,"c0e10b42",null)),dt=lt.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notifyContent"},[n("div",e._l(e.filterList,(function(t,r){return n("NotifyList",{key:r,attrs:{list:t.data,showRemove:e.showRemove}})})),1),n("p",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"loadingTip"},[e._v("資料加載中~")])])},ft=[],pt=(n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notifyList"},[n("div",{staticClass:"listBox"},[n("p",{staticClass:"title"},[e._v(e._s(e.list.action))]),n("div",{staticClass:"content"},[e._v(e._s(e.list.content))]),n("div",{staticClass:"time"},[e._v("通知時間 : "+e._s(e.list.time))])]),n("div",{staticClass:"removeBox",class:{show:e.showRemove}},[n("i",{staticClass:"fal fa-trash-alt"})])])}),vt=[],ht={props:{list:{type:Object,required:!0},showRemove:{type:Boolean,required:!0}}},gt=ht,bt=(n("32c3"),Object(l["a"])(gt,pt,vt,!1,null,"ba8c508e",null)),wt=bt.exports,yt={props:{detail:{type:Object,required:!0},showRemove:{type:Boolean,required:!0}},computed:{lists:function(){return this.detail.data},keyword:function(){return this.detail.keyword},isLoading:function(){return this.detail.isLoading},filterList:function(){var e=this.keyword;return""===e?this.lists:this.lists.filter((function(t){var n=t.data,r=n.action.includes(e),a=n.content.includes(e),i=n.time.includes(e);return r||a||i}))}},components:{NotifyList:wt}},_t=yt,Ct=Object(l["a"])(_t,mt,ft,!1,null,null,null),It=Ct.exports,xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"keywordPanel"},[n("i",{staticClass:"far fa-filter"}),n("span",[e._v("所有通知")]),n("div",{staticClass:"searchBox"},[n("i",{staticClass:"fal fa-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"myInput",attrs:{type:"text",placeholder:"搜尋"},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}})]),n("span",{on:{click:e.editHandler}},[e._v(e._s(e.editText))])])},kt=[],Ot={props:{value:{type:String,required:!0},editId:{type:Number,required:!0}},data:function(){return{editStatus:{1:"編輯",2:"完成"}}},computed:{keyword:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},editText:function(){return this.editStatus[this.editId]}},methods:{editHandler:function(){var e=1===this.editId?2:1;this.$emit("update:editId",e)}}},Rt=Ot,jt=(n("f68d"),Object(l["a"])(Rt,xt,kt,!1,null,"262fb8e0",null)),Lt=jt.exports,Pt={name:"notify",metaInfo:function(){return{title:this.$i18n.t("seo.notify.title")}},data:function(){return{currentTabId:2,editId:1,tabStatus:[{id:2,isFirst:!0,keyword:"",data:[],scrollPos:0,isLoading:!1},{id:3,isFirst:!0,keyword:"",data:[],scrollPos:0,isLoading:!1}]}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{targetCategory:function(){var e=this;return this.tabStatus.find((function(t){return t.id===e.currentTabId}))},currentKeyword:{get:function(){return this.targetCategory.keyword},set:function(e){this.targetCategory.keyword=e}},showRemove:function(){return 2===this.editId}}),methods:{tabHandler:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,t.targetCategory.scrollPos=t.getScrollPos(),t.currentTabId=r,n.next=5,t.initHandler();case 5:t.setScrollPos(t.targetCategory.scrollPos);case 6:case"end":return n.stop()}}),n)})))()},getNotifyData:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.getNotify({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iCommunityId:e.userCommunity,iCategory:e.currentTabId}).then((function(e){return e}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},initHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.targetCategory.isFirst){t.next=8;break}return e.targetCategory.isLoading=!0,t.next=4,e.getNotifyData().then((function(e){return e}));case 4:n=t.sent,e.targetCategory.data=e.targetCategory.data.concat(n),e.targetCategory.isFirst=!1,e.targetCategory.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},getScrollPos:function(){return this.$refs.notifyWrap.scrollTop},setScrollPos:function(e){this.$refs.notifyWrap.scrollTop=e}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initHandler();case 1:case"end":return t.stop()}}),t)})))()},components:{NotifyTab:dt,KeywordPanel:Lt,NotifyContent:It}},St=Pt,$t=(n("bed7"),Object(l["a"])(St,at,it,!1,null,"630a2ba4",null)),Tt=$t.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bulletin"},[n("BackBlock",{attrs:{title:"社區公告"}}),n("div",{staticClass:"mycontainer vertical"},[e.showEmpty?n("EmptyBlock",{attrs:{text:"沒有任何公告~"}}):n("div",{staticClass:"bulletin_descBox",domProps:{innerHTML:e._s(e.bulletinContent)}})],1)],1)},Bt=[],Dt={name:"bulletin",metaInfo:function(){return{title:this.$i18n.t("seo.bulletinInfo.title")}},data:function(){return{bulletinId:0,bulletinList:[],isLoading:!1}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{bulletinContent:function(){var e=this;if(0===this.bulletinList.length)return"";var t=this.bulletinList.filter((function(e){return 2===e.iPosition})),n=t.find((function(t){return t.iId===e.bulletinId}));return void 0!==n?n.vContent:""},showEmpty:function(){return!this.isLoading&&""===this.bulletinContent}}),methods:{getBulletin:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,G.getBulletin({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iCommunityId:e.userCommunity}).then((function(e){return e})).finally((function(){return e.isLoading=!1}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},initHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.bulletinId=parseInt(e.$route.params.id),t.next=3,e.getBulletin().then((function(e){return e}));case 3:e.bulletinList=t.sent;case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initHandler();case 1:case"end":return t.stop()}}),t)})))()},watch:{$route:function(e,t){this.initHandler()}}},Nt=Dt,Et=(n("cbf0"),Object(l["a"])(Nt,Mt,Bt,!1,null,null,null)),Ut=Et.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"memberProfile"},[n("BackBlock",{attrs:{title:"會員資料"}}),n("div",{staticClass:"mycontainer vertical"},[n("div",{staticClass:"communityInfo"},[n("p",{staticClass:"communityName"},[e._v(e._s(e.communityName))]),n("p",{staticClass:"room"},[e._v(e._s(e.room))]),n("p",{staticClass:"account"},[e._v("帳號 "+e._s(e.account))])]),n("ProfileTab")],1),n("div",{staticClass:"mycontainer"},[n("keep-alive",[n("router-view")],1)],1)],1)},qt=[],Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profileTab"},[e._l(e.tabList,(function(t){return n("router-link",{key:t.name,ref:t.name,refInFor:!0,staticClass:"tabItem",class:{active:e.routeName===t.name},attrs:{to:{name:t.name},replace:""}},[e._v(e._s(t.title))])})),n("div",{ref:"moveItem",staticClass:"moveItem",class:{animate:e.isAnimate}})],2)},Ft=[],Vt={data:function(){return{isAnimate:!1,tabList:[{title:"社區資料",name:"community"},{title:"組織成員",name:"organize"}]}},computed:{routeName:function(){return this.$route.name}},methods:{moveItem:function(){var e=this.$refs[this.routeName][0].$el,t=e.offsetLeft;this.$refs.moveItem.style.left="".concat(t,"px")}},mounted:function(){var e=this;this.moveItem(),setTimeout((function(){e.isAnimate=!0}),10)},watch:{$route:function(){this.moveItem()}}},zt=Vt,Jt=(n("11fa"),Object(l["a"])(zt,Ht,Ft,!1,null,"2d111d20",null)),Kt=Jt.exports,Wt={name:"memberProfile",metaInfo:function(){return{title:this.$i18n.t("seo.memberProfile.title")}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{targetCommunity:function(){var e=this;return null===this.userInfo?null:this.userInfo.community.find((function(t){return t.iId===e.userCommunity}))},communityName:function(){return null===this.targetCommunity?"":this.targetCommunity.vName},room:function(){return null===this.targetCommunity?"":this.targetCommunity.room},account:function(){return null===this.targetCommunity?"":this.userInfo.account}}),components:{ProfileTab:Kt}},Gt=Wt,Qt=(n("502f"),Object(l["a"])(Gt,At,qt,!1,null,"3c841c88",null)),Xt=Qt.exports,Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"communityInfoPage"},[n("div",{staticClass:"listBox"},e._l(e.communityList,(function(e){return n("communityList",{key:e.iId,attrs:{detail:e}})})),1),n("div",{staticClass:"btnBox center"},[n("button",{staticClass:"btnSure",on:{click:e.showApplyModal}},[e._v("社區入住申請")])]),n("ApplyModal",{attrs:{modalId:e.modalId,vCity:e.position.city,vArea:e.position.area,apartmentId:e.apartmentData.id,apartmentList:e.apartmentData.lists,floor:e.houseInfo.floor,dong:e.houseInfo.dong,number1:e.houseInfo.number1,number2:e.houseInfo.number2,room:e.houseInfo.room,unit:e.houseInfo.unit,fullAddress:e.fullAddress},on:{"update:vCity":function(t){return e.$set(e.position,"city",t)},"update:v-city":function(t){return e.$set(e.position,"city",t)},"update:vArea":function(t){return e.$set(e.position,"area",t)},"update:v-area":function(t){return e.$set(e.position,"area",t)},"update:apartmentId":function(t){return e.$set(e.apartmentData,"id",t)},"update:apartment-id":function(t){return e.$set(e.apartmentData,"id",t)},"update:floor":function(t){return e.$set(e.houseInfo,"floor",t)},"update:dong":function(t){return e.$set(e.houseInfo,"dong",t)},"update:number1":function(t){return e.$set(e.houseInfo,"number1",t)},"update:number2":function(t){return e.$set(e.houseInfo,"number2",t)},"update:room":function(t){return e.$set(e.houseInfo,"room",t)},"update:unit":function(t){return e.$set(e.houseInfo,"unit",t)},add:e.addHandler}}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},Zt=[],en=(n("13d5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"communityList",attrs:{to:{name:"communityIntro",params:{id:e.detail.iId}}}},[n("div",{staticClass:"imgBox"},[n("img",{attrs:{src:"https://fakeimg.pl/100x100/"}})]),n("div",{staticClass:"descBox"},[n("div",{staticClass:"name"},[e._v(e._s(e.detail.CommunityName))]),n("div",{staticClass:"unit"},[e._v(e._s(e.detail.vRoom))]),n("div",{staticClass:"address"},[n("i",{staticClass:"fal fa-map-marker-alt"}),e._v(" "+e._s(e.detail.fullAddress)+" ")])])])}),tn=[],nn={props:{detail:{type:Object,required:!0}}},rn=nn,an=(n("35a1b"),Object(l["a"])(rn,en,tn,!1,null,"164dffb3",null)),sn=an.exports,on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:e.modalId,"modal-class":"mymodal","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[n("i",{staticClass:"fal fa-times",on:{click:function(e){return r()}}}),n("h3",[e._v("社區入住申請")])]}},{key:"default",fn:function(){return[n("div",{staticClass:"applyBlock apply-top"},[n("div",{staticClass:"regionBox"},[n("div",{staticClass:"regionRow"},[n("p",{staticClass:"title"},[e._v("選擇縣市")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.cityName,expression:"cityName"}],staticClass:"mySelect",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.cityName=t.target.multiple?n:n[0]}}},e._l(e.cityList,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),n("div",{staticClass:"regionRow"},[n("p",{staticClass:"title"},[e._v("選擇市區鄉鎮")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.areaName,expression:"areaName"}],staticClass:"mySelect",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.areaName=t.target.multiple?n:n[0]}}},e._l(e.areaList,(function(t){return n("option",{key:t.name,domProps:{value:t.name}},[e._v(e._s(t.name))])})),0)])]),n("div",{staticClass:"nameBox"},[n("p",{staticClass:"title"},[e._v("所在社區")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.iId,expression:"iId"}],staticClass:"mySelect",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.iId=t.target.multiple?n:n[0]}}},e._l(e.apartmentList,(function(t){return n("option",{key:t.iId,domProps:{value:t.iId}},[e._v(e._s(t.vName))])})),0)])]),n("div",{staticClass:"applyBlock apply-middle"},[n("i",{staticClass:"fal fa-map-marker-alt"}),n("span",[e._v(e._s(e.fullAddress))])]),n("div",{staticClass:"applyBlock apply-bottom"},[n("div",{staticClass:"formLayout"},[n("div",{staticClass:"formRow horizontal"},[n("div",{staticClass:"formTitle"},[e._v("樓")]),n("div",{staticClass:"formContent"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.myFloor,expression:"myFloor",modifiers:{number:!0}}],staticClass:"myInput",attrs:{type:"number",placeholder:"請輸入數字"},domProps:{value:e.myFloor},on:{input:function(t){t.target.composing||(e.myFloor=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("div",{staticClass:"formRow horizontal"},[n("div",{staticClass:"formTitle"},[e._v("棟")]),n("div",{staticClass:"formContent"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.myDong,expression:"myDong"}],staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入文字"},domProps:{value:e.myDong},on:{input:function(t){t.target.composing||(e.myDong=t.target.value)}}})])]),n("div",{staticClass:"formRow horizontal"},[n("div",{staticClass:"formTitle"},[e._v("號")]),n("div",{staticClass:"formContent numberSplit"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.myNumber1,expression:"myNumber1",modifiers:{number:!0}}],staticClass:"myInput",attrs:{type:"number",placeholder:"請輸入數字"},domProps:{value:e.myNumber1},on:{input:function(t){t.target.composing||(e.myNumber1=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("span",[e._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.myNumber2,expression:"myNumber2",modifiers:{number:!0}}],staticClass:"myInput",attrs:{type:"number",placeholder:"請輸入數字"},domProps:{value:e.myNumber2},on:{input:function(t){t.target.composing||(e.myNumber2=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("div",{staticClass:"formRow horizontal"},[n("div",{staticClass:"formTitle"},[e._v("室")]),n("div",{staticClass:"formContent"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.myRoom,expression:"myRoom"}],staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入文字"},domProps:{value:e.myRoom},on:{input:function(t){t.target.composing||(e.myRoom=t.target.value)}}})])]),n("div",{staticClass:"formRow horizontal"},[n("div",{staticClass:"formTitle"},[e._v("單元")]),n("div",{staticClass:"formContent"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.myUnit,expression:"myUnit"}],staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入文字"},domProps:{value:e.myUnit},on:{input:function(t){t.target.composing||(e.myUnit=t.target.value)}}})])])])])]},proxy:!0},{key:"modal-footer",fn:function(){return[n("button",{staticClass:"btnSure",on:{click:function(t){return e.$emit("add")}}},[e._v("送出申請")])]},proxy:!0}])})},cn=[],un=(n("d81d"),n("9bb6")),ln={props:{modalId:{type:String,required:!0},vCity:{type:String,required:!0},vArea:{type:String,required:!0},apartmentId:{type:Number,required:!0},apartmentList:{type:Array,required:!0},floor:{required:!0},dong:{required:!0},number1:{required:!0},number2:{required:!0},room:{required:!0},unit:{required:!0},fullAddress:{required:!0}},data:function(){return{regionsList:un,isFirst:!0}},computed:{iId:{get:function(){return this.apartmentId},set:function(e){this.$emit("update:apartmentId",e)}},cityName:{get:function(){return this.vCity},set:function(e){this.$emit("update:vCity",e)}},areaName:{get:function(){return this.vArea},set:function(e){this.$emit("update:vArea",e)}},myFloor:{get:function(){return this.floor},set:function(e){this.$emit("update:floor",e)}},myDong:{get:function(){return this.dong},set:function(e){this.$emit("update:dong",e)}},myNumber1:{get:function(){return this.number1},set:function(e){this.$emit("update:number1",e)}},myNumber2:{get:function(){return this.number2},set:function(e){this.$emit("update:number2",e)}},myRoom:{get:function(){return this.room},set:function(e){this.$emit("update:room",e)}},myUnit:{get:function(){return this.unit},set:function(e){this.$emit("update:unit",e)}},cityList:function(){return this.regionsList.map((function(e){return e.name}))},areaList:function(){var e=this,t=this.regionsList.find((function(t){return t.name===e.cityName}));return void 0!==t?(this.isFirst||(this.areaName=t.region[0].name),this.isFirst=!1,t.region):[]}}},dn=ln,mn=(n("c4e5"),Object(l["a"])(dn,on,cn,!1,null,null,null)),fn=mn.exports,pn={name:"communityInfo",metaInfo:function(){return{title:this.$i18n.t("seo.communityInfo.title")}},data:function(){return{isLoading:!1,lists:[],modalId:"apply",apartmentData:{id:0,lists:[]},position:{city:"新北市",area:"土城區"},houseInfo:{floor:"",dong:"",number1:"",number2:"",room:"",unit:""}}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo"])),{},{communityList:function(){return this.lists.reduce((function(e,t){var n=t.vCity,r=t.vArea,a=t.vAddress;return e.push(Object(h["a"])(Object(h["a"])({},t),{},{fullAddress:"".concat(n||"").concat(r||"").concat(a||"")})),e}),[])},fullAddress:function(){var e=this.position,t=e.city,n=e.area,r=this.houseInfo,a=r.floor,i=r.dong,s=r.number1,o=r.number2,c=r.room,u=r.unit,l=""!==a?"".concat(a,"樓"):"",d=""!==i?"".concat(i,"棟"):"",m=""!==c?"".concat(c,"室"):"",f=""!==u?u:"",p="",v="";return""!==s&&""!==o?(p=s,v="-".concat(o,"號")):""!==s&&""===o?(p="".concat(s,"號"),v=""):""===s&&""!==o?(p="",v="".concat(o,"號")):""===s&&""===o&&(p="",v=""),"".concat(t).concat(n).concat(l).concat(d).concat(m,"\n            ").concat(p).concat(v).concat(f)}}),methods:{showApplyModal:function(){this.$bvModal.show(this.modalId)},getMember:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.getMember({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,vAccount:e.userInfo.account}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getCommunityList:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.getCommunityList({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,vCity:e.position.city,vArea:e.position.area}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getApartment:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCommunityList().then((function(e){return e}));case 2:e.apartmentData.lists=t.sent,e.apartmentData.id=e.apartmentData.lists.length>0?e.apartmentData.lists[0].iId:0;case 4:case"end":return t.stop()}}),t)})))()},addMember:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.addMember({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iCommunityId:e.apartmentData.id,vRoom:e.houseInfo.room,vAccount:e.userInfo.account,iType:1,vRemark:""}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},addHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.addMember().then((function(e){return e}));case 3:if(n=t.sent,r=n.status,a=1===r,!a){t.next=11;break}return t.next=9,e.getMember().then((function(e){return e}));case 9:e.lists=t.sent,e.$bvModal.hide(e.modalId);case 11:e.isLoading=!1,e.$addToastr({status:a?1:0,msg:a?"添加成功":"添加失敗"});case 13:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.getMember().then((function(e){return e}));case 3:return e.lists=t.sent,t.next=6,e.getApartment();case 6:e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},watch:{position:{deep:!0,handler:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getApartment();case 2:case"end":return e.stop()}}),e)})))()}}},components:{CommunityList:sn,ApplyModal:fn}},vn=pn,hn=(n("3fb9"),Object(l["a"])(vn,Yt,Zt,!1,null,"7bc81b12",null)),gn=hn.exports,bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"communityDetail"},[n("BackBlock",{attrs:{title:"社區簡介"}}),null!==e.detail?n("div",{staticClass:"intorBox"},[n("div",{staticClass:"imgBox"},[n("img",{attrs:{src:e.detail.vImage,alt:""}})]),n("div",{staticClass:"descBox"},[n("h3",{staticClass:"communityName"},[e._v(e._s(e.detail.CommunityName))]),n("div",{staticClass:"innerBox"},[n("p",[e._v("建設公司 : "+e._s())]),n("p",[e._v("建成年度 : "+e._s())]),n("p",[e._v("社區總戶數 : "+e._s())])])])]):e._e()],1)},wn=[],yn={name:"communityDetail",metaInfo:function(){return{title:this.$i18n.t("seo.communityIntro.title")}},data:function(){return{detailId:0,lists:[]}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo"])),{},{detail:function(){var e=this;if(0===this.lists.length)return null;var t=this.lists.find((function(t){return t.iId===e.detailId}));return void 0!==t?t:null}}),methods:{getMember:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.getMember({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,vAccount:e.userInfo.account}).then((function(e){return e}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.detailId=parseInt(e.$route.params.id),t.next=3,e.getMember().then((function(e){return e}));case 3:e.lists=t.sent;case 4:case"end":return t.stop()}}),t)})))()}},_n=yn,Cn=(n("724d"),Object(l["a"])(_n,bn,wn,!1,null,"543d8d1e",null)),In=Cn.exports,xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"organization"},[e.isLoading?n("Loading"):e._e(),n("ul",{staticClass:"organizeBox"},e._l(e.groupList,(function(t){return n("OrganizeList",{key:t.iParentId,attrs:{communityName:t.CommunityName,vRoom:t.vRoom,lists:t.lists},on:{updateRenter:e.showEditModal}})})),1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hasCommunity,expression:"hasCommunity"}],staticClass:"btnBox center"},[n("button",{staticClass:"btnSure btnAddMember",on:{click:e.showResidentModal}},[e._v("添加成員")])]),n("b-modal",{attrs:{id:"editModal","modal-class":"mymodal","footer-class":"vertical","no-close-on-backdrop":""},on:{hidden:e.editModalHidden},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[n("i",{staticClass:"fal fa-times",on:{click:function(e){return r()}}}),n("h3",[e._v("編輯成員")])]}},null!==e.residentData?{key:"default",fn:function(){return[n("div",{staticClass:"infoBox"},[n("img",{attrs:{src:"https://fakeimg.pl/100x100/",alt:""}}),n("p",{staticClass:"name"},[e._v(e._s(e.residentData.vName||"userName"))]),n("p",{staticClass:"phone"},[e._v(e._s(e.residentData.vContact))])]),n("div",{staticClass:"formLayout"},[n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("備註")]),n("div",{staticClass:"formContent"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.remark,expression:"editData.remark"}],staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入備註"},domProps:{value:e.editData.remark},on:{input:function(t){t.target.composing||e.$set(e.editData,"remark",t.target.value)}}})])])])]},proxy:!0}:null,{key:"modal-footer",fn:function(){return[n("button",{staticClass:"btnSure",on:{click:e.editHandler}},[e._v("確定")]),n("p",{staticClass:"remove",on:{click:e.deleteHandler}},[e._v("刪除此成員")])]},proxy:!0}],null,!0)}),n("b-modal",{attrs:{id:"residentModal","modal-class":"mymodal","footer-class":"vertical","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){var r=t.close;return[n("i",{staticClass:"fal fa-times",on:{click:function(e){return r()}}}),n("h3",[e._v("添加成員")])]}},{key:"default",fn:function(){return[n("div",{staticClass:"formLayout"},[n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("社區單元號")]),n("div",{staticClass:"formContent"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.insertData.communityId,expression:"insertData.communityId"}],staticClass:"myInput",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.insertData,"communityId",t.target.multiple?n:n[0])}}},e._l(e.groupList,(function(t){return n("option",{key:t.iParentId,domProps:{value:t.iParentId}},[e._v(e._s(t.CommunityName))])})),0)])]),n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("會員帳號")]),n("div",{staticClass:"formContent"},[n("input",{staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入會員帳號"}})])]),n("div",{staticClass:"formRow"},[n("div",{staticClass:"formTitle"},[e._v("備註")]),n("div",{staticClass:"formContent"},[n("input",{staticClass:"myInput",attrs:{type:"text",placeholder:"請輸入備註"}})])])])]},proxy:!0},{key:"modal-footer",fn:function(){return[n("button",{staticClass:"btnSure",on:{click:e.insertHandler}},[e._v("確定")])]},proxy:!0}])})],1)},kn=[],On=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"organizeList"},[n("div",{staticClass:"groupName",on:{click:function(t){e.isOpen=!e.isOpen}}},[n("i",{staticClass:"fal fa-home"}),n("p",{staticClass:"name"},[e._v(e._s(e.communityName))]),n("p",{staticClass:"room"},[e._v(e._s(e.room))]),n("i",{staticClass:"fal fa-chevron-down",class:{rotate:e.isOpen}})]),n("SlideUpDown",{staticClass:"itemBox",attrs:{active:e.isOpen,duration:250}},e._l(e.lists,(function(t){return n("OrganizeItem",{key:t.iId,attrs:{detail:t},on:{edit:e.editHandler}})})),1)],1)},Rn=[],jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"organizeItem",on:{click:e.clickHandler}},[e._m(0),n("div",{staticClass:"descBox"},[n("div",{staticClass:"descTop"},[n("div",[n("p",{staticClass:"name"},[e._v(e._s(e.renterName))]),n("p",{staticClass:"phone"},[e._v(e._s(e.detail.vContact))])]),n("div",[n("div",{staticClass:"character"},[e._v(e._s(e.character))]),n("div",{staticClass:"rentTime"},[e._v(e._s(e.rentTime))])])]),n("div",{staticClass:"descBottom"},[e._v(e._s(e.detail.vRemark))])])])},Ln=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"imgBox"},[n("img",{attrs:{src:"https://fakeimg.pl/100x100",alt:""}})])}],Pn={props:{detail:{type:Object,required:!0}},methods:{clickHandler:function(){var e=this.detail,t=e.iId,n=e.iParentId,r=e.iType;this.$emit("edit",{iId:t,iParentId:n,iType:r})}},computed:{renterName:function(){return this.detail.vName||"userName"},character:function(){return 1===this.detail?"屋主":"租客"},rentTime:function(){return new Date(this.detail.iCreateTime).toLocaleDateString()}}},Sn=Pn,$n=(n("11c5"),Object(l["a"])(Sn,jn,Ln,!1,null,"ba9e4eb6",null)),Tn=$n.exports,Mn={props:{communityName:{type:String,required:!0},vRoom:{required:!0},lists:{type:Array,required:!0}},data:function(){return{isOpen:!0}},computed:{room:function(){return this.vRoom||""}},methods:{editHandler:function(e){this.$emit("updateRenter",e)}},components:{OrganizeItem:Tn}},Bn=Mn,Dn=(n("e7df"),Object(l["a"])(Bn,On,Rn,!1,null,"2d951c73",null)),Nn=Dn.exports,En={name:"organization",metaInfo:function(){return{title:this.$i18n.t("seo.organization.title")}},data:function(){return{isLoading:!1,communityData:[],editData:{iId:"",iParentId:"",iType:"",remark:""},insertData:{communityId:"",account:"",remark:""}}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo"])),{},{hasCommunity:function(){return this.communityData.length>0},groupList:function(){return this.communityData.reduce((function(e,t){var n=t.iParentId,r=t.CommunityName,a=t.vRoom,i=t.RoomDetail,s=e.find((function(e){return e.iParentId===n}));return void 0===s?e.push({iParentId:n,CommunityName:r,vRoom:a,lists:i}):s.lists=s.lists.concat(i),e}),[])},residentData:function(){var e=this;if(0===this.groupList.length)return null;var t=this.groupList.find((function(t){return t.iParentId===e.editData.iParentId}));if(void 0!==t){var n=t.lists.find((function(t){return t.iId===e.editData.iId}));return void 0!==n?(this.editData.remark=n.vRemark||"",n):null}return null}}),methods:{getMember:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.getMember({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,vAccount:e.userInfo.account}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},saveMember:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.saveMember({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iCommunityId:e.editData.iParentId,vAccount:e.userInfo.account,iId:e.editData.iId,iType:e.editData.iType,vRemark:e.editData.remark}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},deleteMember:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.deleteMember({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iCommunityId:e.editData.iParentId,vAccount:e.userInfo.account,iId:e.editData.iId,iType:e.editData.iType}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},addMember:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.addMember({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iCommunityId:e.insertData.communityId,vRoom:"",vAccount:e.userInfo.account,iType:2,vRemark:""}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},editModalHidden:function(){this.editData={iId:"",iParentId:"",iType:"",remark:""}},showEditModal:function(e){this.editData.iType=e.iType,this.editData.iId=e.iId,this.editData.iParentId=e.iParentId,this.$bvModal.show("editModal")},showResidentModal:function(){this.$bvModal.show("residentModal")},updateMember:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMember().then((function(e){return e}));case 2:e.communityData=t.sent;case 3:case"end":return t.stop()}}),t)})))()},editHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.saveMember().then((function(e){return e}));case 3:n=t.sent,r=n.status,e.responseHandler(r),e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},deleteHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.deleteMember().then((function(e){return e}));case 3:n=t.sent,r=n.status,e.responseHandler(r),e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},insertHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.addMember().then((function(e){return e}));case 3:n=t.sent,r=n.status,e.responseHandler(r),e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},responseHandler:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=1===e,!r){n.next=6;break}return n.next=4,t.updateMember();case 4:t.$bvModal.hide("editModal"),t.$bvModal.hide("residentModal");case 6:t.$addToastr({status:r?1:0,msg:r?"修改成功":"修改失敗"});case 7:case"end":return n.stop()}}),n)})))()}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.updateMember();case 3:e.insertData.communityId=e.hasCommunity?e.communityData[0].iParentId:"",e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},components:{OrganizeList:Nn}},Un=En,An=(n("ed47"),Object(l["a"])(Un,xn,kn,!1,null,"5d6f6eac",null)),qn=An.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"workRecord"},[n("BackBlock",{attrs:{title:"工作紀錄"}}),n("div",{staticClass:"mycontainer vertical"},[n("DatePanel",{attrs:{year:e.dateInfo.year,month:e.dateInfo.month},on:{count:e.countHandler}}),n("ul",{staticClass:"punchBlock"},e._l(e.filterPunch,(function(e){return n("PunchItem",{key:e.groupTitle,attrs:{title:e.groupTitle,record:e.data}})})),1)],1)],1)},Fn=[],Vn=(n("4160"),n("a630"),n("6062"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"datePanel"},[n("button",{on:{click:function(t){return e.clickHandler(-1)}}},[n("i",{staticClass:"fal fa-chevron-left"})]),n("div",{staticClass:"dateText"},[e._v(e._s(e.dateText))]),n("button",{on:{click:function(t){return e.clickHandler(1)}}},[n("i",{staticClass:"fal fa-chevron-right"})])])}),zn=[],Jn={props:{year:{type:Number,required:!0},month:{type:Number,required:!0}},computed:{dateText:function(){return"".concat(this.year,"年 ").concat(this.month,"月")}},methods:{clickHandler:function(e){this.$emit("count",e)}}},Kn=Jn,Wn=(n("1f0f"),Object(l["a"])(Kn,Vn,zn,!1,null,"6ef935b8",null)),Gn=Wn.exports,Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"punchItem"},[n("div",{staticClass:"punchItem-title",on:{click:function(t){e.isOpen=!e.isOpen}}},[e._v(e._s(e.title))]),n("SlideUpDown",{staticClass:"punchContent",attrs:{active:e.isOpen,duration:250}},e._l(e.record,(function(e){return n("PunchRecord",{key:e.iId,attrs:{time:e.time,type:e.iType}})})),1)],1)},Xn=[],Yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"punchRecord"},[e._v(e._s(e.shiftTime))])},Zn=[],er={props:{time:{type:String,required:!0},type:{type:Number,required:!0}},computed:{shiftCategory:function(){return 1===this.type?"上班":"下班"},shiftTime:function(){return"".concat(this.shiftCategory," ").concat(this.time)}}},tr=er,nr=Object(l["a"])(tr,Yn,Zn,!1,null,null,null),rr=nr.exports,ar={props:{title:{type:String,required:!0},record:{type:Array,required:!0}},data:function(){return{isOpen:!1}},components:{PunchRecord:rr}},ir=ar,sr=(n("636e"),Object(l["a"])(ir,Qn,Xn,!1,null,"3fd44210",null)),or=sr.exports,cr=new Date,ur={name:"workRecord",metaInfo:function(){return{title:this.$i18n.t("seo.workRecord.title")}},data:function(){return{dateInfo:{year:cr.getFullYear(),month:cr.getMonth()+1},punchData:[]}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{dateGroup:function(){if(0===this.punchData.length)return[];var e=new Set;this.punchData.forEach((function(t){return e.add(t.date)}));var t=Array.from(e);return t.sort((function(e,t){return new Date(e).getTime()-new Date(t).getTime()}))},punchList:function(){var e=this;return 0===this.punchData.length||0===this.dateGroup.length?[]:this.dateGroup.reduce((function(t,n){var r=e.punchData.filter((function(e){return e.date===n}));return t.push({groupTitle:n,data:r}),t}),[])},filterPunch:function(){var e=this;return 0===this.punchList.length?[]:this.punchList.filter((function(t){var n=new Date(t.groupTitle).getFullYear(),r=new Date(t.groupTitle).getMonth()+1;return n===e.dateInfo.year&&r===e.dateInfo.month}))}}),methods:{getAttendance:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ze.getAttendance({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iSecurityId:e.userInfo.security[0].iId,iCommunityId:e.userCommunity}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},countHandler:function(e){var t=this.dateInfo.month+e;t>12?(this.dateInfo.year++,this.dateInfo.month=1):t<1?(this.dateInfo.year--,this.dateInfo.month=12):this.dateInfo.month=t},copyPunch:function(e){var t=JSON.parse(JSON.stringify(e));return t.reduce((function(e,t){var n=t.vMessage.split(" ");return e.push(Object(h["a"])(Object(h["a"])({},t),{},{date:n[0],time:n[1]})),e}),[])}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAttendance().then((function(e){return e}));case 2:n=t.sent,e.punchData=e.copyPunch(n);case 4:case"end":return t.stop()}}),t)})))()},components:{DatePanel:Gn,PunchItem:or}},lr=ur,dr=Object(l["a"])(lr,Hn,Fn,!1,null,null,null),mr=dr.exports,fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"workSchedule"},[n("BackBlock",{attrs:{title:"我的班表"}}),n("div",{staticClass:"mycontainer vertical"},[n("DatePanel",{attrs:{year:e.dateInfo.year,month:e.dateInfo.month},on:{count:e.countHandler}}),n("FullCalendar",{ref:"fullCalendar",attrs:{options:e.calendarOptions}})],1)],1)},pr=[],vr=n("3cdd"),hr=n("a20c"),gr=new Date,br={name:"workSchedule",metaInfo:function(){return{title:this.$i18n.t("seo.workSchedule.title")}},data:function(){return{fullCalendar:null,calendarOptions:{plugins:[vr["a"],hr["a"]],initialView:"dayGridMonth",height:500,initialDate:gr,editable:!1,selectable:!1,headerToolbar:!1,showNonCurrentDates:!1,eventTextColor:"#fff",eventBorderColor:"#f65d75",eventBackgroundColor:"#f65d75",displayEventTime:!1,eventDisplay:"block",dayHeaderContent:function(e){var t=["周日","週一","周二","周三","周四","週五","周六"];return t[e.dow]}},dateInfo:{year:gr.getFullYear(),month:gr.getMonth()+1},eventList:[]}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{dateCriteria:function(){var e=this.dateInfo,t=e.year,n=e.month,r=t,a=n>=10?n:"0".concat(n);return r+a}}),methods:{getSchedule:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ze.getSchedule({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iPropertyId:e.userInfo.property[0].iId,iCommunityId:e.userCommunity,vMonth:e.dateCriteria}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},countHandler:function(e){if(!this.isLoading){var t=this.dateInfo.month+e;t>12?(this.dateInfo.year++,this.dateInfo.month=1):t<1?(this.dateInfo.year--,this.dateInfo.month=12):this.dateInfo.month=t,e>0?this.fullCalendar.next():this.fullCalendar.prev()}},addShift:function(){var e=this;this.eventList.forEach((function(t){e.fullCalendar.addEvent(t)}))},clearShift:function(){var e=this.fullCalendar.getEvents();e.forEach((function(e){return e.remove()}))},formatDate:function(e){var t=new Date(1e3*e),n=t.getFullYear(),r=t.getMonth()+1,a=t.getDate();return r=r>=10?r:"0"+r,"".concat(n,"-").concat(r,"-").concat(a)},convertToEvent:function(e){var t=this;return e.reduce((function(e,n){var r=t.formatDate(n.iDateTime);return e.push({id:n.iId,title:n.vTitle,start:"".concat(r,"T00:00:00"),end:"".concat(r,"T23:59:59")}),e}),[])},updateShift:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSchedule().then((function(e){return e}));case 2:n=t.sent,e.eventList=e.convertToEvent(n),e.clearShift(),e.addShift();case 6:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.fullCalendar=e.$refs.fullCalendar.getApi(),t.next=3,e.updateShift();case 3:case"end":return t.stop()}}),t)})))()},watch:{dateCriteria:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.updateShift();case 2:case"end":return t.stop()}}),t)})))()}},components:{FullCalendar:Re["a"],DatePanel:Gn}},wr=br,yr=Object(l["a"])(wr,fr,pr,!1,null,null,null),_r=yr.exports,Cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mission"},[n("BackBlock",{attrs:{title:"工作任務"}}),n("div",{staticClass:"mycontainer vertical"},[n("div",{staticClass:"missionTitle"},[n("span",{staticClass:"text"},[e._v("巡檢任務")]),n("span",{staticClass:"total"},[e._v("("+e._s(e.totalMission)+")")])]),n("div",{staticClass:"missionBox"},e._l(e.missionCategory,(function(e){return n("MissionList",{key:e.iId,attrs:{id:e.iId,title:e.vTitle,beginTime:e.vBegin,finishTime:e.vFinish}})})),1)]),e.isLoading?n("Loading"):e._e()],1)},Ir=[],xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"missionList",attrs:{to:e.path}},[n("div",{staticClass:"missionDesc"},[n("div",{staticClass:"title"},[e._v(e._s(e.title))]),n("div",{staticClass:"duration"},[e._v(e._s(e.durationTime))])]),n("div",{staticClass:"missionStatus"},[e._v("尚未開始")])])},kr=[],Or={props:{id:{type:Number,required:!0},title:{type:String,required:!0},beginTime:{type:String,required:!0},finishTime:{type:String,required:!0}},computed:{durationTime:function(){return"巡檢時段 : ".concat(this.beginTime,"-").concat(this.finishTime)},path:function(){return{name:"patrolMission",params:{id:this.id}}}}},Rr=Or,jr=(n("64b1"),Object(l["a"])(Rr,xr,kr,!1,null,"229e8b12",null)),Lr=jr.exports,Pr={name:"workMission",metaInfo:function(){return{title:this.$i18n.t("seo.workMission.title")}},data:function(){return{isLoading:!1,missionList:[]}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{totalMission:function(){return this.missionList.length},missionCategory:function(){return this.missionList.reduce((function(e,t){var n=t.iId,r=t.vTitle,a=t.vBegin,i=t.vFinish;return e.push({iId:n,vTitle:r,vBegin:a,vFinish:i}),e}),[])}}),methods:{getMission:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,Ze.getMission({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iSecurityId:2,iCommunityId:e.userCommunity}).then((function(e){return e})).finally((function(){return e.isLoading=!1}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMission().then((function(e){return e}));case 2:e.missionList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},components:{MissionList:Lr}},Sr=Pr,$r=(n("128e"),Object(l["a"])(Sr,Cr,Ir,!1,null,"7658db7a",null)),Tr=$r.exports,Mr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"patrolMission"},[n("BackBlock",{attrs:{title:"巡檢任務"}}),e.isLoading?n("Loading"):e._e(),n("div",{staticClass:"mycontainer vertical"},[n("EmptyBlock",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}],attrs:{text:"找不到巡檢任務"}}),e.hasMission?n("div",[n("div",{staticClass:"missionInfo"},[n("p",{staticClass:"title"},[e._v(e._s(e.targetMission.vTitle))]),n("div",{staticClass:"content"},[n("p",[e._v("巡檢哨點數量 : "+e._s(e.totalPlace))]),n("p",[e._v("巡檢時段 : "+e._s(e.patrolDuration))])])]),n("ul",{staticClass:"patrolBox"},e._l(e.patrolList,(function(t){return n("PatrolList",{key:t.iId,attrs:{missionId:e.missionId,patrol:t},on:{punch:e.patrolPunch}})})),1)]):e._e()],1),e.openCamera?n("QrcodeReader",{ref:"qrcodeReader",attrs:{openCamera:e.openCamera,cameraStatus:e.cameraStatus,isProcess:e.isProcess},on:{"update:openCamera":function(t){e.openCamera=t},"update:open-camera":function(t){e.openCamera=t},"update:cameraStatus":function(t){e.cameraStatus=t},"update:camera-status":function(t){e.cameraStatus=t},scan:e.scanHandler}}):e._e()],1)},Br=[],Dr=(n("25f0"),n("c0e9")),Nr=n.n(Dr),Er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"patrolList"},[n("div",{staticClass:"patrolToggle",on:{click:function(t){e.isOpen=!e.isOpen}}},[n("i",{staticClass:"fal fa-thumbtack"}),n("span",[e._v("巡查點")]),n("i",{staticClass:"fas fa-caret-down"})]),n("SlideUpDown",{staticClass:"patrolInfo",attrs:{active:e.isOpen,duration:300}},[n("div",{staticClass:"infoTop"},[n("p",[e._v("哨點名稱 : "+e._s(e.patrol.vTitle))]),n("p",[e._v("順序序號 : "+e._s(e.patrol.checkPointId))])]),n("div",{staticClass:"infoBottom"},[n("div",[n("i",{staticClass:"fas fa-circle"}),e._v("需執行事項")]),n("p",[e._v(e._s(e.patrol.vSummary))]),n("div",{staticClass:"btnBox space_bwtween"},[n("button",{staticClass:"outline-verify",on:{click:e.patrolReport}},[e._v("巡檢回報")]),n("button",{staticClass:"btnPatrol",on:{click:e.punchHandler}},[n("i",{staticClass:"fal fa-barcode-scan"}),n("span",[e._v("巡邏點打卡")])])])])])],1)},Ur=[],Ar={props:{patrol:{type:Object,required:!0},missionId:{type:Number,required:!0}},data:function(){return{isOpen:!0,isScan:!1}},methods:{punchHandler:function(){var e=this;this.$emit("punch",{pointId:this.patrol.checkPointId,changeStatus:function(t){e.isScan=t}})},patrolReport:function(){this.isScan?this.$router.push({name:"patrolReport",params:{missionId:this.missionId,pointId:this.patrol.checkPointId}}):this.$addToastr({status:0,msg:"請先進行巡邏打卡"})}}},qr=Ar,Hr=(n("9b6d"),Object(l["a"])(qr,Er,Ur,!1,null,"7475250a",null)),Fr=Hr.exports,Vr={name:"patrolMission",metaInfo:function(){return{title:this.$i18n.t("seo.patrolMission.title")}},data:function(){return{missionId:0,isLoading:!1,missionList:[],openCamera:!1,cameraStatus:"auto",isProcess:!1,tempPunch:{pointId:null,changeStatus:null},isFirstLoadData:!0}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{targetMission:function(){var e=this,t=this.missionList.find((function(t){return t.iId===e.missionId}));return void 0!==t?t:null},totalPlace:function(){return null===this.targetMission?0:this.targetMission.place.length},patrolList:function(){return null===this.targetMission?[]:this.targetMission.place},patrolDuration:function(){if(null===this.targetMission)return"";var e=this.targetMission,t=e.vBegin,n=e.vFinish;return"".concat(t,"-").concat(n)},hasMission:function(){return!this.isLoading&&null!==this.targetMission},showEmpty:function(){return!this.isLoading&&null===this.targetMission&&!this.isFirstLoadData}}),methods:{getMission:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,Ze.getMission({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iSecurityId:2,iCommunityId:e.userCommunity}).then((function(e){return e})).finally((function(){e.isLoading=!1,e.isFirstLoadData=!1}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},patrolPunch:function(e){this.openCamera=!0,this.tempPunch={pointId:e.pointId,changeStatus:e.changeStatus}},scanHandler:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.scanData,a=e.lensElement,t.cameraStatus="off",t.isProcess=!0,n.next=5,t.matchPointId(r).then((function(e){return e}));case 5:return i=n.sent,t.cameraStatus="auto",t.isProcess=!1,n.next=10,t.$nextTick();case 10:if(!i){n.next=17;break}return n.next=13,t.screenShot(a).then((function(e){return e}));case 13:s=n.sent,t.setLS({base64:s}),t.openCamera=!1,t.tempPunch.changeStatus(!0);case 17:t.$addToastr({status:i?1:0,msg:i?"巡點成功":"巡點失敗"});case 18:case"end":return n.stop()}}),n)})))()},matchPointId:function(e){var t=this;return new Promise((function(n){setTimeout((function(){n(e===t.tempPunch.pointId.toString())}),1e3)}))},screenShot:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Nr()(e).then((function(e){return e}));case 2:return n=t.sent,t.abrupt("return",n.toDataURL());case 4:case"end":return t.stop()}}),t)})))()},setLS:function(e){localStorage.setItem("pointId-".concat(this.tempPunch.pointId),JSON.stringify(e))}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.missionId=parseInt(e.$route.params.id),t.next=3,e.getMission().then((function(e){return e}));case 3:e.missionList=t.sent;case 4:case"end":return t.stop()}}),t)})))()},watch:{$route:function(e){this.missionId=parseInt(e.params.id)}},components:{PatrolList:Fr,QrcodeReader:Ye}},zr=Vr,Jr=(n("5db8"),Object(l["a"])(zr,Mr,Br,!1,null,"2e79320b",null)),Kr=Jr.exports,Wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"patrolReport"},[n("BackBlock",{attrs:{title:"巡檢回報"}}),e.isLoading?n("Loading"):e._e(),n("div",{staticClass:"mycontainer vertical"},[n("div",{staticClass:"placeInfo"},[n("p",[e._v("哨點名稱 : "+e._s(e.outpost))]),n("p",[e._v("地點 : "+e._s(e.site))])])]),n("div",{staticClass:"reportBlock"},[n("div",{staticClass:"statusBox patrolStatus"},[n("p",{staticClass:"statusTitle"},[e._v("巡查點狀態")]),n("div",{staticClass:"modeBox"},e._l(e.modeList,(function(t){return n("label",{key:t.value,staticClass:"modeLabel"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentMode,expression:"currentMode",modifiers:{number:!0}}],attrs:{type:"radio",name:"mode",hidden:""},domProps:{value:t.value,checked:e._q(e.currentMode,e._n(t.value))},on:{change:function(n){e.currentMode=e._n(t.value)}}}),n("span",[e._v(e._s(t.title))])])})),0)]),n("div",{staticClass:"statusBox"},[n("p",{staticClass:"statusTitle"},[e._v("問題描述")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"question"}],staticClass:"myTextarea",attrs:{placeholder:"請描述問題"},domProps:{value:e.question},on:{input:function(t){t.target.composing||(e.question=t.target.value)}}}),n("p",{staticClass:"questionTip",class:{show:e.nofill}},[e._v("請填寫問題")])]),n("div",{staticClass:"statusBox"},[n("p",{staticClass:"statusTitle"},[e._v("存檔圖片")]),n("div",{staticClass:"photoBox"},[n("label",{staticClass:"uploadBox"},[n("input",{ref:"fileInput",attrs:{type:"file",capture:"",multiple:"",hidden:""},on:{change:e.uploadHandler}}),n("i",{staticClass:"fal fa-camera"})]),e._l(e.uploadImages,(function(t){return n("ReportThumb",{key:t.timestamp,attrs:{timestamp:t.timestamp,base64:t.base64},on:{preview:e.previewHandler,remove:e.removeUpload}})})),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isUpload,expression:"isUpload"}],staticClass:"waitUpload"},[e._v("檔案上傳中...")])],2)]),n("div",{staticClass:"statusBox btnBox"},[n("button",{staticClass:"btnSure btnReport",on:{click:e.reportHandler}},[e._v("送出回報")])])]),e.showLightBox?n("LightBox",{attrs:{timestamp:e.lightBoxTimestamp,imageUrl:e.lightBoxImageUrl,totalImage:e.totalUpload},on:{dir:e.changeDirection,close:function(t){e.showLightBox=!1}}}):e._e()],1)},Gr=[],Qr=(n("a623"),n("c740"),n("a434"),n("b680"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reportThumb",style:e.bgStyle,on:{click:e.clickHandler}},[n("div",{staticClass:"removeIcon",on:{click:e.removeHandler}},[n("i",{staticClass:"far fa-times"})])])}),Xr=[],Yr={props:{timestamp:{type:Number,required:!0},base64:{type:String,required:!0}},computed:{bgStyle:function(){return{backgroundImage:"url(".concat(this.base64,")")}}},methods:{clickHandler:function(){this.$emit("preview",this.timestamp)},removeHandler:function(){this.$emit("remove",this.timestamp)}}},Zr=Yr,ea=(n("cbdc"),Object(l["a"])(Zr,Qr,Xr,!1,null,"10d0957c",null)),ta=ea.exports,na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"lightBox"}},[n("img",{key:e.timestamp,attrs:{src:e.imageUrl},on:{touchstart:e.startHandler,touchmove:e.moveHandler,touchend:e.endHandler}}),n("div",{staticClass:"direction prev",class:{hidden:e.isLessOne},on:{click:function(t){return e.direction(-1)}}},[n("i",{staticClass:"fal fa-chevron-left"})]),n("div",{staticClass:"direction next",class:{hidden:e.isLessOne},on:{click:function(t){return e.direction(1)}}},[n("i",{staticClass:"fal fa-chevron-right"})]),n("div",{staticClass:"ligthBox-close",on:{click:function(t){return e.$emit("close")}}},[n("i",{staticClass:"fal fa-times"})])])},ra=[],aa={props:{timestamp:{type:Number,required:!0},imageUrl:{type:String,required:!0},totalImage:{type:Number,required:!0}},data:function(){return{touchPos:{start:0,move:0},rangeNumber:50}},computed:{isLessOne:function(){return this.totalImage<=1}},methods:{direction:function(e){this.$emit("dir",e)},startHandler:function(e){this.touchPos.start=e.touches[0].pageX},moveHandler:function(e){this.touchPos.move=e.touches[0].pageX},endHandler:function(e){var t=this.touchPos,n=t.start,r=t.move,a=r-n;a>=this.rangeNumber&&this.direction(1),a<=-this.rangeNumber&&this.direction(-1)}}},ia=aa,sa=(n("a42a"),Object(l["a"])(ia,na,ra,!1,null,"3d3f1fae",null)),oa=sa.exports,ca={name:"patrolReport",metaInfo:function(){return{title:this.$i18n.t("seo.patrolReport.title")}},data:function(){return{currentMode:1,missionList:[],question:"",uploadImages:[],isUpload:!1,showLightBox:!1,previewIndex:null,nofill:!1,isLoading:!1,modeList:[{title:"正常",value:1},{title:"異常",value:0}],idGroup:{missionId:0,pointId:0}}},computed:Object(h["a"])(Object(h["a"])({},Object(g["e"])("auth",["userInfo","userCommunity"])),{},{targetMission:function(){var e=this,t=this.missionList.find((function(t){return t.iId===e.idGroup.missionId}));return void 0!==t?t:null},placeList:function(){return null===this.targetMission?[]:this.targetMission.place},targetPoint:function(){var e=this,t=this.placeList.find((function(t){return t.checkPointId===e.idGroup.pointId}));return void 0!==t?t:null},outpost:function(){return null===this.targetPoint?"":this.targetPoint.vTitle},site:function(){return null===this.targetPoint?"":this.targetPoint.vSummary},totalUpload:function(){return this.uploadImages.length},targetUpload:function(){return this.uploadImages[this.previewIndex]},lightBoxTimestamp:function(){return void 0===this.targetUpload?0:this.targetUpload.timestamp},lightBoxImageUrl:function(){return void 0===this.targetUpload?"":this.targetUpload.base64}}),methods:{getMission:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ze.getMission({iUserId:e.userInfo.user_id,vToken:e.userInfo.token,iSecurityId:2,iCommunityId:e.userCommunity}).then((function(e){return e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},uploadMission:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,Ze.uploadMission({iUserId:t.userInfo.user_id,vToken:t.userInfo.token,iSecurityId:2,log:[{vCode:"2|".concat(t.idGroup.missionId,"|").concat(t.idGroup.pointId),vMessage:t.question,iDateTime:Math.floor(Date.now()/1e3).toFixed(0),vMissionImage:e}]}).then((function(e){return e})).finally((function(){return t.isLoading=!1}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},setAboutId:function(){var e=this.$route.params,t=e.missionId,n=e.pointId;this.idGroup={missionId:parseInt(t),pointId:parseInt(n)}},resetInputType:function(){this.$refs.fileInput.type="text",this.$refs.fileInput.type="file"},checkIsImageFile:function(e){return e.every((function(e){return e.type.includes("image/")}))},uploadHandler:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=Array.from(e.target.files),a=t.checkIsImageFile(r),t.resetInputType(),a){n.next=6;break}return t.$addToastr({status:0,msg:"上傳檔案需為圖片檔"}),n.abrupt("return");case 6:t.isUpload=!0,i=0;case 8:if(!(i<r.length)){n.next=16;break}return n.next=11,t.generateBase64(r[i]).then((function(e){return e}));case 11:s=n.sent,t.uploadImages.push({timestamp:Date.now()+10*i,base64:s});case 13:i++,n.next=8;break;case 16:t.isUpload=!1;case 17:case"end":return n.stop()}}),n)})))()},generateBase64:function(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(e){t(e.target.result)})),n.readAsDataURL(e)}))},removeUpload:function(e){var t=this.uploadImages.findIndex((function(t){return t.timestamp===e}));-1!==t&&this.uploadImages.splice(t,1)},previewHandler:function(e){this.previewIndex=this.uploadImages.findIndex((function(t){return t.timestamp===e})),this.showLightBox=!0},changeDirection:function(e){this.previewIndex=(this.previewIndex+e+this.totalUpload)%this.totalUpload},setBodyOverflow:function(e){document.body.style.overflow=e},getScanBase64:function(){var e=localStorage.getItem("pointId-".concat(this.idGroup.pointId)),t=null===e?"":JSON.parse(e).base64;""!==t&&this.uploadImages.push({timestamp:Date.now(),base64:t})},reportHandler:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.question){t.next=3;break}return e.nofill=!0,t.abrupt("return");case 3:return n=e.uploadImages.map((function(e){return{vImage:e.base64}})),t.next=6,e.uploadMission(n).then((function(e){return e}));case 6:r=t.sent,a=1===r.status,e.$addToastr({status:a?1:0,msg:a?"回報成功":"回報失敗"});case 9:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setAboutId(),e.getScanBase64(),t.next=4,e.getMission().then((function(e){return e}));case 4:e.missionList=t.sent;case 5:case"end":return t.stop()}}),t)})))()},watch:{question:function(e){this.nofill=""===e},showLightBox:function(e){var t=e?"hidden":"";this.setBodyOverflow(t)}},beforeDestroy:function(){this.setBodyOverflow("")},components:{ReportThumb:ta,LightBox:oa}},ua=ca,la=(n("d522"),Object(l["a"])(ua,Wr,Gr,!1,null,"f6a91b76",null)),da=la.exports;r["default"].use(a["a"]);var ma=[{path:"/",name:"home",component:Z,meta:{auth:!0}},{path:"/memberProfile",component:Xt,meta:{auth:!0},children:[{path:"",redirect:"community"},{path:"community",name:"community",component:gn},{path:"organize",name:"organize",component:qn}]},{path:"/communityIntro/:id(\\d+)",name:"communityIntro",component:In},{path:"/security",component:m,meta:{auth:!0},children:[{path:"",name:"security",component:rt},{path:"workRecord",name:"workRecord",component:mr},{path:"workSchedule",name:"workSchedule",component:_r},{path:"workMission",name:"workMission",component:Tr},{path:"patrolMission/:id(\\d+)",name:"patrolMission",component:Kr},{path:"patrolReport/:missionId(\\d+)/:pointId(\\d+)",name:"patrolReport",component:da},{path:"*",redirect:"/security"}]},{path:"/notify",name:"notify",component:Tt,meta:{auth:!0}},{path:"/bulletin/:id(\\d+)",name:"bulletin",component:Ut,meta:{auth:!0}},{path:"/entrance",name:"entrance",component:de,meta:{layout:"entranceLayout"}},{path:"/login",name:"login",component:be,meta:{layout:"entranceLayout"}},{path:"/register",name:"register",component:xe,meta:{layout:"entranceLayout"}},{path:"/forgotPw",name:"forgotPw",component:Se,meta:{layout:"entranceLayout"}},{path:"/fixPassword",name:"fixPassword",component:Ne,beforeEnter:function(e,t,n){var r=null!==i["a"].state.auth.forgotUser;return r?n():n("/login")},meta:{layout:"entranceLayout"}},{path:"*",redirect:"/"}],fa=new a["a"]({mode:"hash",routes:ma,scrollBehavior:function(e,t,n){return n||(e.hash?{selector:e.hash}:{x:0,y:0})}}),pa=["entrance","login","register","forgotPw","fixPassword"];fa.beforeEach((function(e,t,n){return e.matched.some((function(e){return e.meta.auth}))&&null===i["a"].state.auth.userInfo?n("/entrance"):pa.includes(e.name)&&i["a"].getters["auth/isLogin"]?n("/"):n()}));t["a"]=fa},a2ae:function(e,t,n){},a42a:function(e,t,n){"use strict";var r=n("7d1d"),a=n.n(r);a.a},a628:function(e,t,n){"use strict";var r=n("05f0"),a=n.n(r);a.a},abd7:function(e,t,n){"use strict";var r=n("8e30"),a=n.n(r);a.a},af8e:function(e,t,n){},b19f:function(e,t,n){"use strict";var r=n("a158"),a=n.n(r);a.a},bed7:function(e,t,n){"use strict";var r=n("de70"),a=n.n(r);a.a},c367:function(e,t,n){"use strict";var r=n("2df4"),a=n.n(r);a.a},c4e5:function(e,t,n){"use strict";var r=n("e67c"),a=n.n(r);a.a},c7d4:function(e,t,n){"use strict";n("d3b7"),n("96cf");var r=n("1da1"),a=n("da71"),i={doLogin:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])({url:"/auth/login",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},doRegister:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])({url:"/auth/register",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},sendSMS:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])({url:"/auth/app/sendSMS",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},checkCode:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])({url:"/auth/app/checkCode",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},newPassword:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])({url:"/auth/app/newPassword",method:"post",data:e}).then((function(e){return e.data}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},s=n("4e36"),o={get:function(e){var t=localStorage.getItem(e);if(null!==t){var n=s["a"].decodeBase64(t),r=s["a"].decodeAes(n);t=JSON.parse(r)}return t},set:function(e,t){var n=JSON.stringify(t),r=s["a"].encodeAes(n),a=s["a"].encodeBase64(r);localStorage.setItem(e,a)},remove:function(e){localStorage.removeItem(e)}},c=function(){return{namespaced:!0,state:{userInfo:o.get("userInfo"),userCommunity:o.get("communityId"),forgotUser:null},mutations:{setUserInfo:function(e,t){e.userInfo=t,null!==t?o.set("userInfo",t):o.remove("userInfo")},setUserCommunity:function(e,t){e.userCommunity=t,null!==t?o.set("communityId",t):o.remove("communityId")},setForgotUser:function(e,t){e.forgotUser=t}},getters:{isLogin:function(e){return null!==e.userInfo}},actions:{doLogin:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,i.doLogin(t).then((function(e){return e}));case 3:return a=n.sent,s=a.status,o=a.userinfo,1===s&&r("setUserInfo",o),n.abrupt("return",{loginStatus:1===s});case 7:case"end":return n.stop()}}),n)})))()},doRegister:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit,n.next=3,i.doRegister(t).then((function(e){return e}));case 3:return r=n.sent,a=r.status,s=r.message,n.abrupt("return",{registerStatus:1===a,message:s});case 6:case"end":return n.stop()}}),n)})))()},doLogout:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,new Promise((function(e){n("setUserInfo",null),n("setUserCommunity",null),e()}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},sendSMS:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,i.sendSMS(t).then((function(e){return e}));case 3:return a=n.sent,s=a.status,o=a.userinfo,c=1===s,c&&r("setForgotUser",o),n.abrupt("return",c);case 9:case"end":return n.stop()}}),n)})))()},checkCode:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,e.commit,n.next=3,i.checkCode({vAccount:r.forgotUser.account,iUserId:r.forgotUser.user_id,vToken:r.forgotUser.token,vVerification:t.vVerification}).then((function(e){return e}));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()},fixPassword:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.commit,n.next=3,i.newPassword({vAccount:r.forgotUser.account,iUserId:r.forgotUser.user_id,vToken:r.forgotUser.token,vFirstPassword:t.password,vSecondPassword:t.confirmPw}).then((function(e){return e}));case 3:return s=n.sent,1===s.status&&a("setForgotUser",null),n.abrupt("return",s);case 6:case"end":return n.stop()}}),n)})))()}}}};t["a"]=c},ca10:function(e,t,n){"use strict";var r=n("3151"),a=n.n(r);a.a},cab0:function(e,t,n){"use strict";var r=n("338d"),a=n.n(r);a.a},cbdc:function(e,t,n){"use strict";var r=n("dc81"),a=n.n(r);a.a},cbf0:function(e,t,n){"use strict";var r=n("35d2"),a=n.n(r);a.a},ce8c:function(e,t,n){},ce9a:function(e,t,n){},d267:function(e,t,n){},d522:function(e,t,n){"use strict";var r=n("88c3"),a=n.n(r);a.a},da71:function(e,t,n){"use strict";n("d3b7"),n("ac1f"),n("5319");var r=n("bc3a"),a=n.n(r),i=n("a18c"),s=n("4360"),o=function(e){var t={400:"用戶端出現錯誤",401:"請重新登入",500:"司服器錯誤"};s["a"].commit("addToastr",{status:0,msg:t[e]}),401===e&&i["a"].replace("/login")},c=a.a.create({baseURL:"https://damp-reef-82709.herokuapp.com/"});c.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){return e}),(function(e){if(e.response){var t=e.response.status;o(t)}return Promise.reject(e)}));var u=function(e){return c(e)};t["a"]=u},dc81:function(e,t,n){},de70:function(e,t,n){},df34:function(e,t,n){},dff5:function(e,t,n){},e041:function(e,t,n){},e67c:function(e,t,n){},e7df:function(e,t,n){"use strict";var r=n("7448"),a=n.n(r);a.a},ea95:function(e,t,n){e.exports=n.p+"img/commonBtn2.ba6aa36a.svg"},eccd:function(e){e.exports=JSON.parse('{"seo":{"home":{"title":"Home"},"entrance":{"title":"Entrance"},"login":{"title":"Login"},"register":{"title":"Register"},"forgotPw":{"title":"Forgot Password"},"fixPassword":{"title":"fixPassword"},"security":{"title":"security"},"workInfo":{"title":"workInfo"},"notify":{"title":"notify"},"bulletinInfo":{"title":"bulletin information"},"memberProfile":{"title":"memberProfile"},"communityInfo":{"title":"communityInfo"},"organization":{"title":"organization"},"communityIntro":{"title":"communityIntro"},"workRecord":{"title":"workRecord"},"workSchedule":{"title":"workSchedule"},"workMission":{"title":"workMission"},"patrolMission":{"title":"patrolMission"},"patrolReport":{"title":"patrolReport"}},"validate":{"required":"required","email":"email format error","mobileTw":"taiwan mobile format error","mobileCn":"china mobile format error","password":"password format error","pwNotEqual":"password is different","taiwanId":"taiwanId format error"}}')},ed07:function(e,t,n){e.exports=n.p+"img/commonBtn1.ad9d46b6.svg"},ed47:function(e,t,n){"use strict";var r=n("97bf"),a=n.n(r);a.a},f36a:function(e,t,n){"use strict";var r=n("3b76"),a=n.n(r);a.a},f68d:function(e,t,n){"use strict";var r=n("6e10"),a=n.n(r);a.a},fcb1:function(e,t,n){e.exports=n.p+"img/commonBtn4.6dbc613d.svg"}});
//# sourceMappingURL=app.js.map